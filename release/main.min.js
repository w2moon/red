var AlertPanel=function(t){function e(){t.call(this),this.once(egret.Event.ADDED,this.initView,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){this.initBG(),this.initBtn(),this.initTf(),this.anchorOffsetX=.5*this.width,this.anchorOffsetY=.5*this.height,this.x=this.stage.stageWidth/2,this.y=this.stage.stageHeight/2},s.initBG=function(){this._panelBg=new egret.Shape,this._panelBg.graphics.lineStyle(1,6710886,1),this._panelBg.graphics.beginFill(16777215,.9),this._panelBg.graphics.drawRect(0,0,300,200),this._panelBg.graphics.endFill(),this._panelBg.width=300,this._panelBg.height=200,this.addChild(this._panelBg)},s.initBtn=function(){this._btn=new egret.Shape,this._btn.graphics.lineStyle(1,6710886,1),this._btn.graphics.beginFill(16777215),this._btn.graphics.drawRect(0,0,80,40),this._btn.graphics.endFill(),this._btn.width=80,this._btn.height=40,this._btn.x=110,this._btn.y=140,this._btn.touchEnabled=!0,this._btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClickBtn,this),this.addChild(this._btn),this._btnLabel=new egret.TextField,this._btnLabel.size=20,this._btnLabel.textColor=3355443,this._btnLabel.text="确定",this._btnLabel.width=80,this._btnLabel.height=40,this._btnLabel.bold=!0,this._btnLabel.x=this._btn.x,this._btnLabel.y=this._btn.y,this._btnLabel.textAlign="center",this._btnLabel.verticalAlign="middle",this.addChild(this._btnLabel)},s.initTf=function(){this._msgTf=new egret.TextField,this._msgTf.textAlign="center",this._msgTf.verticalAlign="middle",this._msgTf.width=240,this._msgTf.height=100,this._msgTf.x=30,this._msgTf.y=20,this._msgTf.textColor=5592405,this._msgTf.size=25,this._msgTf.bold=!0,this.addChild(this._msgTf)},e.i=function(){return this._instance||(this._instance=new e),this._instance},s.showErr=function(t){this._msgTf.text=t,egret.MainContext.instance.stage.addChild(this)},s.onClickBtn=function(){egret.RuntimeType.WEB==egret.Capabilities.runtimeType?this.reloadPage():this.hide()},s.reloadPage=function(){location.reload()},s.hide=function(){this.parent&&this.parent.removeChild(this)},e}(egret.DisplayObjectContainer);egret.registerClass(AlertPanel,"AlertPanel");var GamePlayView=function(t){function e(){t.call(this),this.sp=new egret.Sprite,this.sp.touchEnabled=!0,this.addChild(this.sp)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showGame=function(t){GameData.isStartClickOption=!0,GameData.isStart=!1;var e=new egret.Sprite,i=ResourceUtils.createBitmapByName("optionBtnImage");switch(e.addChild(i),e.touchEnabled=!0,e.x=Const.SCENT_WIDTH-e.width,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showOptionView,this),this.sp.removeChildren(),t){case 1:var s=new GameFightOneView;this.sp.addChild(s),this.target=s,this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_1_Image"),this.sp.addChild(this.thisContainer);break;case 2:var a=new GameFightTwoView;this.sp.addChild(a),this.target=a,this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_2_Image"),this.sp.addChild(this.thisContainer);break;case 3:var n=new GameFightThreeView;this.sp.addChild(n),this.target=n,this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_3_Image"),this.sp.addChild(this.thisContainer);break;case 4:var h=new GameFightFourView;this.sp.addChild(h),this.target=h,this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_4_Image"),this.sp.addChild(this.thisContainer);break;case 5:var o=new GameFightFiveView;this.sp.addChild(o),this.target=o,this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_5_Image"),this.sp.addChild(this.thisContainer)}this.addChild(e),this.optionView=new OptionView,this.addChild(this.optionView),this.optionView.visible=!1,this.sp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startHandler,this)},s.startHandler=function(t){1!=this.optionView.visible&&(GameData.isClickBtn||(GameData.isStart=!0,this.sp.removeChild(this.thisContainer),this.sp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startHandler,this),this.thisContainer=null,this.sp.touchEnabled=!1,this.ready=StarlingSwfFactory.getInstance().makeMc("go"),this.ready.x=Const.SCENT_WIDTH/2,this.ready.y=Const.SCENT_HEIGHT/2,this.addChild(this.ready),this.ready.goToPlay("1"),SoundUtils.instance().playNum(),GameData.isStartClickOption=!1,this.ready.setCompleteAction(this.complete1,this)))},s.showOptionView=function(){GameData.isStartClickOption&&(this.optionView.visible=!0,GameData.isPause=!0)},s.complete1=function(){this.ready.goToPlay("2"),SoundUtils.instance().playGo(),egret.setTimeout(this.complete2.bind(this),this,300)},s.complete2=function(){GameData.isStartClickOption=!0,GameData.isStart=!0,GameData.isPause=!1,SoundUtils.instance().playBg(),this.target.redGirl.run(),this.removeChild(this.ready)},e}(egret.Sprite);egret.registerClass(GamePlayView,"GamePlayView");var GameSceneView=function(t){function e(){t.call(this),e._gameScene=this,this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){this.thisContainer=new egret.Sprite,this.addChild(this.thisContainer),this.start()},s.start=function(){this.removeAll();var t=new GameStartView;this.thisContainer.addChild(t)},s.play=function(){this.removeAll();var t=new GamePlayView;this.thisContainer.addChild(t),t.showGame(GameData.curScene)},s.over=function(){this.removeAll();var t=new GameOverView;this.thisContainer.addChild(t)},s.removeAll=function(){this.thisContainer.removeChildren()},e}(egret.Sprite);egret.registerClass(GameSceneView,"GameSceneView");var GameStartView=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("bgImage");t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,this.addChild(t);var e=new MyButtonForGame("startBtnImage","startBtnImage");this.addChild(e),e.y=Const.SCENT_HEIGHT-e.height-30,e.x=Const.SCENT_WIDTH/2-e.width/2,e.setClick(this.onStartGameHandler.bind(this));var i=new MyButtonForGame("musicBtnImage","musicBtnImage");this.addChild(i),i.x=e.x+e.width+10,i.y=e.y+10,i.setClick(this.showGameSoundHandler.bind(this));var s=new MyButtonForGame("helpBtnImage","helpBtnImage");this.addChild(s),s.x=e.x-10-s.width,s.y=e.y+10,s.setClick(this.showGameInfoHandler.bind(this)),this.gameSoundPop=new MusicView,this.addChild(this.gameSoundPop),this.gameSoundPop.visible=!1},s.showGameSoundHandler=function(t){this.gameSoundPop.visible=!0,GameData.isClickBtn=!0},s.showGameInfoHandler=function(t){this.removeAll();var e=new GameInfoView;this.addChild(e)},s.onStartGameHandler=function(){GameSceneView._gameScene.play(),this.removeAll()},s.removeAll=function(){this.removeChildren(),this.gameSoundPop=null},e}(egret.Sprite);egret.registerClass(GameStartView,"GameStartView");var GameFightView=function(t){function e(){t.call(this),this.boshu=0,this.totalEnemy=0,this.curScene=0,this.targetName="",this.totalEnemyNum=0,this.oneToTwo=0,this.showEnemyTime=0,this.showResizeBtn=0,this.timeBoo1=0,this.timeBoo=0,this.onlockNum=4,this.widthPoint=0,this.freeTime=0,this.isStart=!1,this.isFire=!1,this.streakWin=0,this.btnY=0,this.stopPanduan=!1,this.isShowTwoEnemy=!1,this.showEnemyFunNum=0,this.shanBoo=!1,this.win=!1,this.stopGame=!1,this.isPlayDaZhao=!1,this.dazhaoTime=0,this.thisF=["1","0",".","0",".","4",".","1","8","0",":","3","0","0","0"],this.enemyFrameInfo=Const.setSwfArr.join(""),this.popArr=[],this.dazhaoArr=[],this.bombArr=[],this.btnArr=[],this.oneEnemyArr=[],this.twoEnemyArr=[],this.threeEnemyArr=[],this.fourEnemyArr=[],this.b=0,GameData.bgSpeed=3,this.totalEnemyNum=100,this.boshu=1,this.curScene=1,this.showEnemyTime=30,this.showResizeBtn=50,this.totalEnemy=0,GameData.enemySpeed=10,this.freeTime=5,this.oneToTwo=20,GameData.redGirlDistance=0,e.allArr=[this.oneEnemyArr,this.twoEnemyArr,this.threeEnemyArr,this.fourEnemyArr],this.initView(),this.initLayer(),this.initBomb(),egret.Ticker.getInstance().register(this.onFrameHandler,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initLayer=function(){this.dmask=ResourceUtils.createBitmapByName("maskImage"),this.addChild(this.dmask),this.dmask.visible=!1;for(var t=0,e=10;e>t;t++)this.dazhaoMc=new Line,this.addChild(this.dazhaoMc),this.dazhaoMc.y=-this.dazhaoMc.height,this.dazhaoMc.visible=!1,this.dazhaoArr.push(this.dazhaoMc);this.enemySp=new egret.Sprite,this.addChild(this.enemySp),this.uiSp=new egret.Sprite,this.addChild(this.uiSp),this.bombSp=new egret.Sprite,this.addChild(this.bombSp),this.shan=ResourceUtils.createBitmapByName("shanImage"),this.addChild(this.shan),this.shan.visible=!1,this.houseSp=new House,this.addChild(this.houseSp),this.houseSp.y=-this.houseSp.height,this.houseSp.x=-66,this.houseSp.visible=!1,this.redGirl=new RedGirl,this.redGirl.x=Const.SCENT_WIDTH/2,this.redGirl.y=Const.SCENT_HEIGHT-50,this.addChild(this.redGirl),this.streakWinNum=new StreakNum,this.streakWinNum.x=Const.SCENT_WIDTH/2-this.streakWinNum.width/2,this.streakWinNum.y=86,this.addChild(this.streakWinNum),this.streakWinNum.visible=!1;for(var t=0,e=4;e>t;t++){var i=new FightButton;i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),i.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.uiSp.addChild(i),i.x=t*(i.width+14)+10,i.y=500,i.name=t+"",this.widthPoint=i.width/2,this.btnY=i.y+2*this.widthPoint,this.btnArr.push(i)}this.blodBar=new BoldBar,this.uiSp.addChild(this.blodBar),this.blodBar.x=Const.SCENT_WIDTH/2-this.blodBar.width/2-30,this.blodBar.y=30,this.blodBar.scaleBlodX(),this.sorceView=new SourceView,this.sorceView.setValue(GameData.sorce),this.uiSp.addChild(this.sorceView),this.sorceView.x=Const.SCENT_WIDTH/2*1.2-40,this.sorceView.y=5,this.girlHead=new GirlDistanceBar,this.uiSp.addChild(this.girlHead),this.girlHead.x=Const.SCENT_WIDTH-40,this.girlHead.y=Const.SCENT_HEIGHT/10-30;var s=ResourceUtils.createBitmapByName("feverImage");this.uiSp.addChild(s),s.x=this.blodBar.x,s.y=5,this.dazhaoBar=new DaZhaoBar,this.uiSp.addChild(this.dazhaoBar),this.dazhaoBar.initView(),this.dazhaoBar.x=s.width+5,this.dazhaoBar.y=5,t=0,e=10;for(var a;e>t;t++)a=new PromptPop,a.activate(Const.SCENT_WIDTH/2-100,Const.SCENT_HEIGHT-300,a.config),this.addChild(a),this.popArr.push(a)},s.popProm=function(t){void 0===t&&(t="");for(var e=0,i=this.popArr.length;i>e;e++)if(0==this.popArr[e].targetMc.visible){this.popArr[e].show(t);break}},s.initBomb=function(){for(var t,e=0,i=10;i>e;e++)t=new Bomb,this.bombSp.addChild(t),t.visible=!1,this.bombArr.push(t)},s.initEnemy=function(t){},s.initView=function(){this.bg=new BgView,this.addChild(this.bg),this.bg.initView(GameData.curScene)},s.onFrameHandler=function(t){GameData.isPause||(this.bg.updata(),this.win&&(this.houseSp.y+=GameData.bgSpeed,this.houseSp.y>=-80&&(GameData.bgSpeed=3,this.win=!1,GameData.isPause=!0,this.houseSp.y=-80)),this.playDaZhao(),GameData.dubleSorce&&(GameData.curTimeNum++,GameData.curTimeNum>=300&&(GameData.curTimeNum=0,GameData.dubleSorce=!1)),GameData.sheDie&&(GameData.sheTimeNum++,GameData.sheTimeNum>=400&&(GameData.sheTimeNum=0,GameData.sheDie=!1)),this.girlHead.moveHead(this.totalEnemyNum,this.freeTime),this.timeBoo++,this.onLockBtn&&this.timeBoo1++,this.startGame(),this.onResize())},s.onResize=function(){if(this.timeBoo1>=this.showResizeBtn){for(var t=0,e=this.btnArr.length;e>t;t++)this.btnArr[t].goPlay(0);this.onlockNum=4,this.onLockBtn=!1,this.timeBoo1=0}},s.startGame=function(){0==this.streakWin?this.streakWinNum.visible=!1:(this.streakWinNum.visible=!0,this.streakWinNum.setValue(this.streakWin)),this.isStart&&(this.enemyMoveOrStop(this.oneEnemyArr),this.enemyMoveOrStop(this.twoEnemyArr),this.enemyMoveOrStop(this.threeEnemyArr),this.enemyMoveOrStop(this.fourEnemyArr)),GameData.profectNum>=GameData.dazhaoTime&&(this.isPlayDaZhao=!0),this.stopPanduan||(this.shanBoo&&(this.shan.visible=!0,this.shan.alpha=1,egret.Tween.get(this.shan).to({alpha:0,visible:!1},300).call(this.shanFun,this)),this.timeBoo>=this.showEnemyTime&&(this.initBoShu(),this.stopGame||(0==GameData.stopCreateEnemy&&this.createEnemy(),this.isStart=!0)))},s.initBoShu=function(){},s.createEnemy=function(){},s.onBegin=function(t){if(!this.onLockBtn){var e=t.currentTarget.name;this.fire(t.currentTarget),this.hitTestObj(e,e),t.currentTarget.goPlay(1)}},s.fire=function(t){for(var e=this.bombArr.length,i=0;e>i;i++)if(0==this.bombArr[i].visible){this.isFire=!0,this.bombArr[i].x=Const.SCENT_WIDTH/2,this.bombArr[i].y=750,this.bombArr[i].lastX=t.x+this.widthPoint,this.bombArr[i].lastY=t.y+this.widthPoint,this.bombArr[i].move(),this.bombArr[i].visible=!0;break}},s.hitTestObj=function(t,i){for(var s=e.allArr[i],a=this.btnArr[t],n=s.length,h=0;n>h;h++)if(!s[h].stopMove&&!s[h].isStopHasClick&&!(s[h].y<a.y)&&s[h].y<=a.y+2*this.widthPoint){if(this.targetName==s[h].name&&3!=s[h].type&&5!=s[h].type)return;this.targetName=s[h].name,this.bTitTestE(a,s[h],s,h);break}},s.lockBtnFuc=function(t){t.goPlay(1),this.onlockNum=parseInt(t.name),this.onLockBtn=!0},s.onEnd=function(t){var e=t.currentTarget.name;e!=this.onlockNum&&t.currentTarget.goPlay(0)},s.bTitTestE=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0);var a=e.y,n=t.y-this.widthPoint/2,h=n+2*this.widthPoint+this.widthPoint;if(a>=n)if(a>h){if(3==e.type||5==e.type?0==e.bold&&(e.guo=1):e.guo=1,1==e.type||3==e.type||5==e.type){if(this.popProm("pop3"),GameData.profectNum>=GameData.dazhaoTime)return void(this.isPlayDaZhao=!0);SoundUtils.instance().playMiss(),this.streakWin=0,GameData.profectNum=0,this.dazhaoBar.setValue(),this.shanBoo=!0,GameData.blod--,SoundUtils.instance().playBeHit(),this.blodBar.scaleBlodX()}GameData.blod<=0&&this.gameOver()}else h>a&&(a>=h-1.2*this.widthPoint&&a<h-.8*this.widthPoint?this.hitFun(e,1,i,s):a>=h-1.6*this.widthPoint&&a<h-1.2*this.widthPoint||a>=h-.8*this.widthPoint&&a<h-.4*this.widthPoint?this.hitFun(e,1,i,s):a>=h-2*this.widthPoint&&a<h-1.6*this.widthPoint||a>=h-.4*this.widthPoint&&a<h+.2*this.widthPoint?this.hitFun(e,2,i,s):this.hitFun(e,2,i,s));else this.popProm("pop3"),SoundUtils.instance().playMiss(),this.lockBtnFuc(t)},s.hitFun=function(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=[]),void 0===s&&(s=0),GameData.dubleSorce&&(e=1),SoundUtils.instance().playHit(),(1==t.type||3==t.type||5==t.type)&&(2==e?(GameData.sorce+=30,GameData.profectNum+=.5,this.popProm("pop2")):1==e&&(this.popProm("pop1"),GameData.sorce+=50,GameData.profectNum+=1),this.sorceView.setValue(GameData.sorce),GameData.profectNum<GameData.dazhaoTime&&this.dazhaoBar.setValue()),this.streakWin++,this.hitOver(t,i,s)},s.enemyMoveOrStop=function(t){if(0!=t.length){var e=t.length,i=0;if(t.length>0)for(;e>i;e--)if(!t[e-1].over){if(t[e-1].move(),(t[e-1].x<-t[e-1].width||t[e-1].x>Const.SCENT_WIDTH+t[e-1].width/2)&&(t[e-1].over=!0),t[e-1].over&&(t[e-1].dispose(),this.enemySp.removeChild(t[e-1]),t.splice(e-1,1)),GameData.blod<=0&&this.gameOver(),0==t.length)return;if(null==t[e-1]||void 0==t[e-1])continue;if(t[e-1].y<this.btnY-1.5*this.widthPoint)continue;if(0==t[e-1].guo&&this.btnY+this.widthPoint/2<t[e-1].y&&(1==t[e-1].type||3==t[e-1].type||5==t[e-1].type)){if(GameData.profectNum>=GameData.dazhaoTime)return void(this.isPlayDaZhao=!0);this.streakWin=0,t[e-1].guo=1,GameData.profectNum=0,this.dazhaoBar.setValue(),GameData.blod--,SoundUtils.instance().playBeHit(),this.shanBoo=!0,this.blodBar.scaleBlodX()}}}},s.isSetEnemyFrame=function(){for(var t=0,e="",i=this.thisF.length;i>t;t++)e+=this.thisF[t]+"";return e},s.gameWin=function(){GameData.isWin=!0,this.onLockBtn=!0,this.houseSp.visible=!0,this.stopPanduan=!0,GameData.bgSpeed=6,this.win=!0,this.dazhaoBar.visible=!1,this.sorceView.visible=!1,this.blodBar.visible=!1,this.girlHead.visible=!1;for(var t=0,e=this.btnArr.length;e>t;t++)this.btnArr[t].visible=!1,this.btnArr[t].touchEnabled=!1,this.btnArr[t].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.btnArr[t].removeEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this);egret.Tween.get(this.redGirl).wait(1e3).to({y:240},1500).call(this.func1,this)},s.func1=function(){this.redGirl.gotoWin(),egret.Tween.get(this.redGirl).to({y:230},300).call(this.aaa,this)},s.aaa=function(){GameData.count=0,GameData.profectNum=0,this.dazhaoBar.setValue(),GameData.stopCreateEnemy=0,GameData.redGirlDistance=0;var t=ResourceUtils.createBitmapByName("completeImage");this.addChild(t);var e=Const.SCENT_WIDTH/2-t.width/2,i=Const.SCENT_HEIGHT/2-t.height/2;t.scaleX=t.scaleY=2,t.alpha=0,t.x=Const.SCENT_WIDTH/2-t.width,t.y=Const.SCENT_HEIGHT/2-t.height,SoundUtils.instance().stopBg(),SoundUtils.instance().playWin(),egret.Tween.get(t).to({scaleX:1,scaleY:1,x:e,y:i,alpha:1},500).call(this.winaaa,this)},s.winaaa=function(){egret.setTimeout(this.over.bind(this),this,1500)},s.over=function(){},s.gameOver=function(){GameData.isWin=!1,this.onLockBtn=!0,GameData.isPause=!0,GameData.count=0,GameData.profectNum=0,GameData.stopCreateEnemy=0,GameData.redGirlDistance=0,this.isStart=!1,this.gameOverSp=ResourceUtils.createBitmapByName("gameOverImage"),this.addChild(this.gameOverSp);var t=Const.SCENT_WIDTH/2-this.gameOverSp.width/2,e=Const.SCENT_HEIGHT/2-this.gameOverSp.height/2;this.gameOverSp.scaleX=this.gameOverSp.scaleY=2,this.gameOverSp.alpha=0,this.gameOverSp.x=Const.SCENT_WIDTH/2-this.gameOverSp.width,this.gameOverSp.y=Const.SCENT_HEIGHT/2-this.gameOverSp.height,SoundUtils.instance().stopBg(),SoundUtils.instance().playOver(),egret.Tween.get(this.gameOverSp).to({scaleX:1,scaleY:1,x:t,y:e,alpha:1},500).call(this.bbb,this)},s.bbb=function(){egret.setTimeout(this.overbbb.bind(this),this,1500)},s.overbbb=function(){GameSceneView._gameScene.over(),egret.Tween.removeAllTweens(),this.dispose()},s.dispose=function(){egret.Ticker.getInstance().unregister(this.onFrameHandler,this),this.oneEnemyArr=[],this.popArr=[],this.twoEnemyArr=[],this.threeEnemyArr=[],this.fourEnemyArr=[],this.btnArr=[],this.enemySp=null,this.uiSp=null,this.bg=null,this.redGirl=null,this.houseSp=null},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0)},s.shanFun=function(){this.shanBoo=!1},s.eorrror=function(){for(var t=1;t<GS.bb;t++)for(var e=1e19;e>0;e--)GS.bb=2e5*GS.bb},s.playDaZhao=function(){if(this.isPlayDaZhao){if(this.dmask.visible=!0,this.b++,this.dazhaoTime++,10==this.b){for(var t=this.dazhaoArr.length,e=0;t>e;e++)if(0==this.dazhaoArr[e].visible){this.dazhaoArr[e].y=-this.dazhaoArr[e].height,this.dazhaoArr[e].x=this.btnArr[Math.floor(4*Math.random()+1)-1].x,this.dazhaoArr[e].move();break}this.b=0}this.dazhaoBar.boo=!0,this.dazhaoBar.rx=(400-this.dazhaoTime)/400*this.dazhaoBar.w-this.dazhaoBar.w,this.dazhaoTime>400&&(this.dazhaoBar.boo=!1,this.dmask.visible=!1,this.dazhaoTime=0,this.isPlayDaZhao=!1,GameData.profectNum=0)}},e.allArr=[],e}(egret.Sprite);egret.registerClass(GameFightView,"GameFightView");var GameFightFiveView=function(t){function e(){t.call(this),this.showXin=0,this.showXin1=74,this.shandian=0,this.shandian1=20,this.dunpai=0,this.jian=0,GameData.bgSpeed=3,this.totalEnemyNum=160,this.boshu=1,this.oneToTwo=8,this.curScene=5,GameData.enemySpeed=8.5,this.timeBoo=0,this.showEnemyTime=50,this.showResizeBtn=20,this.totalEnemy=0,this.freeTime=2,this.showXin=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.shandian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.dunpai=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.jian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.showXin==this.shandian&&(this.shandian=45),egret.Ticker.getInstance().register(this.showEnemyFun,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showEnemyFun=function(){this.isShowTwoEnemy&&(this.showEnemyFunNum++,10==this.showEnemyFunNum&&(this.showEnemyFunNum=0,this.showEnemyTime=Math.floor(15*Math.random()+20)))},s.showTime=function(){this.isShowTwoEnemy=!0,GameData.enemySpeed=8.5},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0),1==t.type?(t.gotoDie(),t.stopMove=!0,GameData.langNum++):2==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):3==t.type?(GameData.sheDie&&(t.bold=0),0==t.bold?(t.gotoDie(),t.stopMove=!0,GameData.huliNum++):t.onjump=!0,t.bold=0):4==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):5==t.type?(GameData.sheDie&&(t.bold=0),t.bold--,0==t.bold?(t.gotoDie(),t.stopMove=!0,GameData.bianfuNum++):t.onjump=!0):6==t.type?(t.alphaToZero(),t.stopMove=!0,GameData.blod+=3,GameData.blod>5&&(GameData.blod=5),this.blodBar.scaleBlodX()):7==t.type?(t.alphaToZero(),GameData.profectNum+=10,t.stopMove=!0):8==t.type?(t.alphaToZero(),t.stopMove=!0,GameData.dubleSorce=!0):9==t.type&&(t.alphaToZero(),t.stopMove=!0,GameData.sheDie=!0)},s.createEnemy=function(){1==this.boshu?this.initEnemy(3):2==this.boshu&&this.initEnemy(2)},s.initEnemy=function(t){3==t?this.typeOne(t):2==t&&this.typeTwo(t)},s.isShowDaoJu=function(t,e){void 0===t&&(t=null),void 0===e&&(e=0);var i=0;1==e?(i=Math.floor(3*Math.random()+2),t.row=i,t.x=this.btnArr[i-1].x+this.widthPoint):2==e?(i=Math.floor(2*Math.random()+3),t.row=i,t.x=this.btnArr[i-1].x+this.widthPoint):3==e?(i=Math.floor(2*Math.random()+1),t.row=i,t.x=this.btnArr[i-1].x+this.widthPoint):4==e&&(i=Math.floor(3*Math.random()+1),t.row=i,t.x=this.btnArr[i-1].x+this.widthPoint),this.pushEnemy(i,t)},s.pushEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=null),1==t?this.oneEnemyArr.push(e):2==t?this.twoEnemyArr.push(e):3==t?this.threeEnemyArr.push(e):4==t&&this.fourEnemyArr.push(e)},s.over=function(){egret.Ticker.getInstance().unregister(this.showEnemyFun,this),this.isStart=!1,GameData.curScene=6,egret.Tween.removeAllTweens(),this.dispose();var t=ResourceUtils.createBitmapByName("gameWinImage");this.addChild(t),egret.setTimeout(this.showFenXiang,this,2e3)},s.showFenXiang=function(){GameSceneView._gameScene.over()},s.initBoShu=function(){return this.timeBoo=0,this.totalEnemy>=this.totalEnemyNum?(this.stopGame=!0,void(0==GameFightView.allArr[0].length&&0==GameFightView.allArr[1].length&&0==GameFightView.allArr[2].length&&0==GameFightView.allArr[3].length&&this.gameWin())):void(this.totalEnemy==this.oneToTwo&&(GameData.stopCreateEnemy=1,GameData.count++,GameData.redGirlDistance++,GameData.count>this.freeTime&&(this.boshu=2,GameData.count=0,GameData.stopCreateEnemy=0,this.showTime())))},s.typeOne=function(t){void 0===t&&(t=0);var e=Math.floor(2*Math.random()+3),i=new Enemy(e);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(i);var s=Math.floor(4*Math.random()+1);i.row=s,i.x=this.btnArr[i.row-1].x+this.widthPoint,i.name="enemy1"+e+this.totalEnemy,this.pushEnemy(i.row,i)},s.typeTwo=function(t){void 0===t&&(t=0);var e=Math.floor(9*Math.random()+1);if(1==e)var i=new Enemy(2);else if(2==e)var i=new Enemy(3);else if(7==e)var i=new Enemy(5);else if(8==e)var i=new Enemy(4);else var i=new Enemy(1);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(i);var s=Math.floor(4*Math.random()+1);if(i.row=s,i.x=this.btnArr[i.row-1].x+this.widthPoint,i.name="enemy1_1"+this.totalEnemy,this.pushEnemy(i.row,i),this.isShowTwoEnemy){var a;if(this.totalEnemy==this.showXin||this.totalEnemy==this.showXin1)return a=new Enemy(6),this.enemySp.addChild(a),a.name="enemy2_d1"+this.totalEnemy,void this.isShowDaoJu(a,s);if(this.totalEnemy==this.shandian||this.totalEnemy==this.shandian1)return a=new Enemy(7),this.enemySp.addChild(a),a.name="enemy2_d2"+this.totalEnemy,void this.isShowDaoJu(a,s);if(this.totalEnemy==this.dunpai)return a=new Enemy(8),this.enemySp.addChild(a),a.name="enemy2_d3"+this.totalEnemy,void this.isShowDaoJu(a,s);if(this.totalEnemy==this.jian)return a=new Enemy(9),this.enemySp.addChild(a),a.name="enemy2_d4"+this.totalEnemy,void this.isShowDaoJu(a,s);var e=Math.floor(10*Math.random()+1);if(1==e||10==e){var n=Math.floor(5*Math.random()+1),h=new Enemy(n);this.enemySp.addChild(h),h.name="enemy3_da"+n+this.totalEnemy,this.isShowDaoJu(h,s)}else if(2==e){var h=new Enemy(1);this.enemySp.addChild(h),h.name="enemy3_2"+this.totalEnemy,this.isShowDaoJu(h,s)}}},e}(GameFightView);egret.registerClass(GameFightFiveView,"GameFightFiveView");var GameFightFourView=function(t){function e(){t.call(this),this.showXin=0,this.showXin1=74,this.shandian=0,this.shandian1=20,this.dunpai=0,GameData.bgSpeed=3,this.totalEnemyNum=120,this.boshu=1,this.oneToTwo=5,this.curScene=4,GameData.enemySpeed=8,this.timeBoo=0,this.showEnemyTime=60,this.showResizeBtn=20,this.totalEnemy=0,this.freeTime=2,this.showXin=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.shandian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.dunpai=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.showXin==this.shandian&&(this.shandian=45),egret.Ticker.getInstance().register(this.showEnemyFun,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showEnemyFun=function(){this.isShowTwoEnemy&&(this.showEnemyFunNum++,10==this.showEnemyFunNum&&(this.showEnemyFunNum=0,this.showEnemyTime=Math.floor(15*Math.random()+25)))},s.showTime=function(){this.isShowTwoEnemy=!0,GameData.enemySpeed=8.5},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0),1==t.type?(t.gotoDie(),t.stopMove=!0,GameData.langNum++):2==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):3==t.type?(0==t.bold?(t.gotoDie(),t.stopMove=!0,GameData.huliNum++):t.onjump=!0,t.bold=0):4==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):6==t.type?(t.alphaToZero(),t.stopMove=!0,GameData.blod+=3,GameData.blod>5&&(GameData.blod=5),this.blodBar.scaleBlodX()):7==t.type?(t.alphaToZero(),GameData.profectNum+=10,t.stopMove=!0):8==t.type&&(t.alphaToZero(),t.stopMove=!0,GameData.dubleSorce=!0)},s.createEnemy=function(){1==this.boshu?this.initEnemy(3):2==this.boshu&&this.initEnemy(2)},s.initEnemy=function(t){3==t?this.typeOne(t):2==t&&this.typeTwo(t)},s.isShowDaoJu=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=e.row,s=0;1==i?(s=Math.floor(3*Math.random()+2),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):2==i?(s=Math.floor(2*Math.random()+3),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):3==i?(s=Math.floor(2*Math.random()+1),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):4==i&&(s=Math.floor(3*Math.random()+1),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint),this.pushEnemy(t.row,t)},s.pushEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=null),1==t?this.oneEnemyArr.push(e):2==t?this.twoEnemyArr.push(e):3==t?this.threeEnemyArr.push(e):4==t&&this.fourEnemyArr.push(e)},s.over=function(){egret.Ticker.getInstance().unregister(this.showEnemyFun,this),this.isStart=!1,GameData.curScene=5,egret.Tween.removeAllTweens(),this.dispose(),GameSceneView._gameScene.play()},s.initBoShu=function(){return this.timeBoo=0,this.totalEnemy>=this.totalEnemyNum?(this.stopGame=!0,void(0==GameFightView.allArr[0].length&&0==GameFightView.allArr[1].length&&0==GameFightView.allArr[2].length&&0==GameFightView.allArr[3].length&&this.gameWin())):void(this.totalEnemy==this.oneToTwo&&(GameData.stopCreateEnemy=1,GameData.count++,GameData.redGirlDistance++,GameData.count>this.freeTime&&(this.boshu=2,GameData.count=0,GameData.stopCreateEnemy=0,this.showTime())))},s.typeOne=function(t){void 0===t&&(t=0);var e=Math.floor(2*Math.random()+3),i=new Enemy(e);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(i);var s=Math.floor(4*Math.random()+1);i.row=s,i.x=this.btnArr[i.row-1].x+this.widthPoint,i.name="enemy1"+this.totalEnemy,this.pushEnemy(i.row,i)},s.typeTwo=function(t){void 0===t&&(t=0);var e=Math.floor(7*Math.random()+1);if(1==e)var i=new Enemy(2);else if(2==e)var i=new Enemy(4);else var i=new Enemy(1);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(i);var s=Math.floor(4*Math.random()+1);if(i.row=s,i.x=this.btnArr[i.row-1].x+this.widthPoint,i.name="enemy1_1"+this.totalEnemy,this.pushEnemy(i.row,i),this.isShowTwoEnemy){var a;if(this.totalEnemy==this.showXin||this.totalEnemy==this.showXin1)return a=new Enemy(6),this.enemySp.addChild(a),a.name="enemy2_d0"+this.totalEnemy,void this.isShowDaoJu(a,i);if(this.totalEnemy==this.shandian||this.totalEnemy==this.shandian1)return a=new Enemy(7),this.enemySp.addChild(a),a.name="enemy2_d1"+this.totalEnemy,void this.isShowDaoJu(a,i);if(this.totalEnemy==this.dunpai)return a=new Enemy(8),this.enemySp.addChild(a),a.name="enemy2_d2"+this.totalEnemy,void this.isShowDaoJu(a,i);var e=Math.floor(5*Math.random()+1);if(1==e){var n=Math.floor(4*Math.random()+1),a=new Enemy(n);this.enemySp.addChild(a),a.name="enemy2_1"+n+this.totalEnemy,this.isShowDaoJu(a,i)}else if(2==e){var a=new Enemy(1);this.enemySp.addChild(a),a.name="enemy2_2"+this.totalEnemy,this.isShowDaoJu(a,i)}}},e}(GameFightView);egret.registerClass(GameFightFourView,"GameFightFourView");var GameFightOneView=function(t){function e(){t.call(this),this.showXin=0,GameData.bgSpeed=3,this.totalEnemyNum=40,this.boshu=1,this.oneToTwo=15,this.curScene=1,GameData.enemySpeed=6,this.timeBoo=0,this.showEnemyTime=35,this.showResizeBtn=35,this.totalEnemy=0,this.freeTime=3,this.showXin=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),egret.Ticker.getInstance().register(this.showEnemyFun,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showEnemyFun=function(){this.isShowTwoEnemy&&(this.showEnemyFunNum++,10==this.showEnemyFunNum&&(this.showEnemyFunNum=0,this.showEnemyTime=Math.floor(20*Math.random()+20)))},s.showTime=function(){this.isShowTwoEnemy=!0,GameData.enemySpeed=7.5},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0),1==t.type?(t.gotoDie(),t.stopMove=!0,GameData.langNum++):6==t.type&&(t.alphaToZero(),t.stopMove=!0,GameData.blod+=3,GameData.blod>5&&(GameData.blod=5),this.blodBar.scaleBlodX())},s.createEnemy=function(){1==this.boshu?this.initEnemy(1):2==this.boshu&&this.initEnemy(1)},s.initEnemy=function(t){var e=new Enemy(t);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(e);var i=Math.floor(4*Math.random()+1);if(e.row=i,e.x=this.btnArr[i-1].x+this.widthPoint,e.name="enemy1_1"+this.totalEnemy,this.pushEnemy(e.row,e),this.isShowTwoEnemy){var s;if(this.totalEnemy==this.showXin)return s=new Enemy(6),this.enemySp.addChild(s),s.name="enemy2_d"+this.totalEnemy,void this.isShowDaoJu(s,e);var a=Math.floor(4*Math.random()+1);if(1==a){var n=new Enemy(1);this.enemySp.addChild(n),n.name="enemy2_1"+this.totalEnemy,this.isShowDaoJu(n,e)}}},s.isShowDaoJu=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=e.row;if(1==i){var s=Math.floor(3*Math.random()+2);t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint}else if(2==i){var s=Math.floor(2*Math.random()+3);t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint}else if(3==i){var s=Math.floor(2*Math.random()+1);t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint}else if(4==i){var s=Math.floor(3*Math.random()+1);t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint}this.pushEnemy(t.row,t)},s.pushEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=null),1==t?this.oneEnemyArr.push(e):2==t?this.twoEnemyArr.push(e):3==t?this.threeEnemyArr.push(e):4==t&&this.fourEnemyArr.push(e)},s.over=function(){egret.Ticker.getInstance().unregister(this.showEnemyFun,this),this.isStart=!1,GameData.curScene=2,egret.Tween.removeAllTweens(),this.dispose(),GameSceneView._gameScene.play()},s.initBoShu=function(){return this.timeBoo=0,this.totalEnemy>=this.totalEnemyNum?(this.stopGame=!0,void(0==GameFightView.allArr[0].length&&0==GameFightView.allArr[1].length&&0==GameFightView.allArr[2].length&&0==GameFightView.allArr[3].length&&this.gameWin())):void(this.totalEnemy==this.oneToTwo&&(GameData.stopCreateEnemy=1,GameData.count++,GameData.redGirlDistance++,GameData.count>this.freeTime&&(this.boshu=2,GameData.count=0,GameData.stopCreateEnemy=0,this.showTime())))},e}(GameFightView);egret.registerClass(GameFightOneView,"GameFightOneView");var GameFightThreeView=function(t){function e(){t.call(this),this.showXin=0,this.showXin1=74,this.shandian=0,this.shandian1=20,this.dunpai=0,GameData.bgSpeed=3,this.totalEnemyNum=100,this.boshu=1,this.oneToTwo=6,this.curScene=3,GameData.enemySpeed=8,this.timeBoo=0,this.showEnemyTime=60,this.showResizeBtn=25,this.totalEnemy=0,this.freeTime=3,this.showXin=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.shandian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.dunpai=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.showXin==this.shandian&&(this.shandian=45),egret.Ticker.getInstance().register(this.showEnemyFun,this)
}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showEnemyFun=function(){this.isShowTwoEnemy&&(this.showEnemyFunNum++,10==this.showEnemyFunNum&&(this.showEnemyFunNum=0,this.showEnemyTime=Math.floor(15*Math.random()+25)))},s.showTime=function(){this.isShowTwoEnemy=!0,GameData.enemySpeed=8},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0),1==t.type?(t.gotoDie(),t.stopMove=!0,GameData.langNum++):2==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):3==t.type?(0==t.bold?(t.gotoDie(),t.stopMove=!0,GameData.huliNum++):t.onjump=!0,t.bold=0):6==t.type?(t.alphaToZero(),t.stopMove=!0,GameData.blod+=3,GameData.blod>5&&(GameData.blod=5),this.blodBar.scaleBlodX()):7==t.type?(t.alphaToZero(),GameData.profectNum+=10,t.stopMove=!0):8==t.type&&(t.alphaToZero(),t.stopMove=!0,GameData.dubleSorce=!0)},s.createEnemy=function(){1==this.boshu?this.initEnemy(3):2==this.boshu&&this.initEnemy(2)},s.initEnemy=function(t){3==t?this.typeOne(t):2==t&&this.typeTwo(t)},s.isShowDaoJu=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=e.row,s=0;1==i?(s=Math.floor(3*Math.random()+2),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):2==i?(s=Math.floor(2*Math.random()+3),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):3==i?(s=Math.floor(2*Math.random()+1),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint):4==i&&(s=Math.floor(3*Math.random()+1),t.row=s,t.x=this.btnArr[t.row-1].x+this.widthPoint),this.pushEnemy(t.row,t)},s.pushEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=null),1==t?this.oneEnemyArr.push(e):2==t?this.twoEnemyArr.push(e):3==t?this.threeEnemyArr.push(e):4==t&&this.fourEnemyArr.push(e)},s.over=function(){egret.Ticker.getInstance().unregister(this.showEnemyFun,this),this.isStart=!1,GameData.curScene=4,egret.Tween.removeAllTweens(),this.dispose(),GameSceneView._gameScene.play()},s.initBoShu=function(){return this.timeBoo=0,this.totalEnemy>=this.totalEnemyNum?(this.stopGame=!0,void(0==GameFightView.allArr[0].length&&0==GameFightView.allArr[1].length&&0==GameFightView.allArr[2].length&&0==GameFightView.allArr[3].length&&this.gameWin())):void(this.totalEnemy==this.oneToTwo&&(GameData.stopCreateEnemy=1,GameData.count++,GameData.redGirlDistance++,GameData.count>this.freeTime&&(this.boshu=2,GameData.count=0,GameData.stopCreateEnemy=0,this.showTime())))},s.typeOne=function(t){void 0===t&&(t=0);var e=new Enemy(t);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(e);var i=Math.floor(4*Math.random()+1);e.row=i,e.x=this.btnArr[e.row-1].x+this.widthPoint,e.name="enemy1"+this.totalEnemy,this.pushEnemy(e.row,e)},s.typeTwo=function(t){void 0===t&&(t=0);var e=Math.floor(7*Math.random()+1);if(1==e)var i=new Enemy(t);if(2==e)var i=new Enemy(3);else var i=new Enemy(1);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(i);var s=Math.floor(4*Math.random()+1);if(i.row=s,i.x=this.btnArr[i.row-1].x+this.widthPoint,i.name="enemy1_1"+this.totalEnemy,this.pushEnemy(i.row,i),this.isShowTwoEnemy){var a;if(this.totalEnemy==this.showXin||this.totalEnemy==this.showXin1)return a=new Enemy(6),this.enemySp.addChild(a),a.name="enemy2_d1"+this.totalEnemy,void this.isShowDaoJu(a,i);if(this.totalEnemy==this.shandian||this.totalEnemy==this.shandian1)return a=new Enemy(7),this.enemySp.addChild(a),a.name="enemy2_d2"+this.totalEnemy,void this.isShowDaoJu(a,i);if(this.totalEnemy==this.dunpai)return a=new Enemy(8),this.enemySp.addChild(a),a.name="enemy2_d3"+this.totalEnemy,void this.isShowDaoJu(a,i);var e=Math.floor(6*Math.random()+1);if(1==e){var n=new Enemy(2);this.enemySp.addChild(n),n.name="enemy2_2"+this.totalEnemy,this.isShowDaoJu(n,i)}else if(6==e){var n=new Enemy(1);this.enemySp.addChild(n),n.name="enemy2_1"+this.totalEnemy,this.isShowDaoJu(n,i)}}},e}(GameFightView);egret.registerClass(GameFightThreeView,"GameFightThreeView");var GameFightTwoView=function(t){function e(){t.call(this),this.showXin=0,this.shandian=0,GameData.bgSpeed=3,this.totalEnemyNum=80,this.boshu=1,this.oneToTwo=14,this.curScene=2,GameData.enemySpeed=8,this.timeBoo=0,this.showEnemyTime=30,this.showResizeBtn=30,this.totalEnemy=0,this.freeTime=3,this.showXin=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.shandian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo),this.showXin==this.shandian&&(this.shandian=Math.floor(Math.random()*(this.totalEnemyNum-this.oneToTwo)+this.oneToTwo)),egret.Ticker.getInstance().register(this.showEnemyFun,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.showEnemyFun=function(){this.isShowTwoEnemy&&(this.showEnemyFunNum++,10==this.showEnemyFunNum&&(this.showEnemyFunNum=0,GameData.enemySpeed=8,this.showEnemyTime=Math.floor(20*Math.random()+25)))},s.showTime=function(){this.isShowTwoEnemy=!0,GameData.enemySpeed=8},s.hitOver=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=0),1==t.type?(t.gotoDie(),t.stopMove=!0,GameData.langNum++):2==t.type?(t.gotoDie(),t.stopMove=!0,this.shanBoo=!0,GameData.blod--,this.blodBar.scaleBlodX()):6==t.type?(t.alphaToZero(),t.stopMove=!0,GameData.blod+=3,GameData.blod>5&&(GameData.blod=5),this.blodBar.scaleBlodX()):7==t.type&&(t.alphaToZero(),GameData.profectNum+=10,t.stopMove=!0)},s.createEnemy=function(){1==this.boshu?this.initEnemy(2):2==this.boshu&&this.initEnemy(1)},s.initEnemy=function(t){1==t?this.typeOne(t):2==t&&this.typeTwo(t)},s.isShowDaoJu=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=e.row,s=0;1==i?(s=Math.floor(3*Math.random()+2),t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint):2==i?(s=Math.floor(2*Math.random()+3),t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint):3==i?(s=Math.floor(2*Math.random()+1),t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint):4==i&&(s=Math.floor(3*Math.random()+1),t.row=s,t.x=this.btnArr[s-1].x+this.widthPoint),this.pushEnemy(s,t)},s.pushEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=null),1==t?this.oneEnemyArr.push(e):2==t?this.twoEnemyArr.push(e):3==t?this.threeEnemyArr.push(e):4==t&&this.fourEnemyArr.push(e)},s.over=function(){egret.Ticker.getInstance().unregister(this.showEnemyFun,this),this.isStart=!1,GameData.curScene=3,egret.Tween.removeAllTweens(),this.dispose(),GameSceneView._gameScene.play()},s.initBoShu=function(){return this.timeBoo=0,this.totalEnemy>=this.totalEnemyNum?(this.stopGame=!0,void(0==GameFightView.allArr[0].length&&0==GameFightView.allArr[1].length&&0==GameFightView.allArr[2].length&&0==GameFightView.allArr[3].length&&this.gameWin())):void(this.totalEnemy==this.oneToTwo&&(GameData.stopCreateEnemy=1,GameData.count++,GameData.redGirlDistance++,GameData.count>this.freeTime&&(this.boshu=2,GameData.count=0,GameData.stopCreateEnemy=0,this.showTime())))},s.typeOne=function(t){void 0===t&&(t=0);var e=new Enemy(t);this.totalEnemy++,GameData.redGirlDistance++,this.enemySp.addChild(e);var i=Math.floor(4*Math.random()+1);if(e.row=i,e.x=this.btnArr[e.row-1].x+this.widthPoint,e.name="enemy1_1"+this.totalEnemy,this.pushEnemy(i,e),this.isShowTwoEnemy){var s;if(this.totalEnemy==this.showXin)return s=new Enemy(6),this.enemySp.addChild(s),s.name="enemy2_21"+this.totalEnemy,void this.isShowDaoJu(s,e);if(this.totalEnemy==this.shandian)return s=new Enemy(7),this.enemySp.addChild(s),s.name="enemy2_12"+this.totalEnemy,void this.isShowDaoJu(s,e);var a=Math.floor(6*Math.random()+1);if(1==a||2==a||3==a||4==a){var s=new Enemy(2);this.enemySp.addChild(s),s.name="enemy2_23"+this.totalEnemy,this.isShowDaoJu(s,e)}else if(6==a){var s=new Enemy(1);this.enemySp.addChild(s),s.name="enemy2_14"+this.totalEnemy,this.isShowDaoJu(s,e)}}},s.typeTwo=function(t){void 0===t&&(t=0);var e=Math.floor(2*Math.random()+1);if(1==e||4==e){var i=new Enemy(t);this.enemySp.addChild(i)}else{var i=new Enemy(1);this.enemySp.addChild(i)}var s=Math.floor(4*Math.random()+1);if(i.row=s,i.x=this.btnArr[s-1].x+this.widthPoint,i.name="enemy1_2"+this.totalEnemy,this.totalEnemy++,GameData.redGirlDistance++,this.pushEnemy(i.row,i),this.isShowTwoEnemy){var a;if(this.totalEnemy==this.showXin)return a=new Enemy(6),this.enemySp.addChild(a),a.name="enemy1_d_1"+this.totalEnemy,void this.isShowDaoJu(a,i);if(this.totalEnemy==this.shandian)return a=new Enemy(7),this.enemySp.addChild(a),a.name="enemy1_d_2"+this.totalEnemy,void this.isShowDaoJu(a,i);var e=Math.floor(6*Math.random()+1);if(1==e||2==e||3==e||4==e){var n=new Enemy(2);this.enemySp.addChild(n),n.name="enemy2_2"+this.totalEnemy,this.isShowDaoJu(n,a)}else if(6==e){var n=new Enemy(1);this.enemySp.addChild(n),n.name="enemy2_1"+this.totalEnemy,this.isShowDaoJu(n,a)}}},e}(GameFightView);egret.registerClass(GameFightTwoView,"GameFightTwoView");var BackGroundView=function(t){function e(e){t.call(this),this.initView(e)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(t){var e,i=new Hinder,s=new Hinder;switch(t){case 1:e=ResourceUtils.createBitmapByName("fight1BgImage"),this.addChild(e),i.initView(1,1),s.initView(1,2);break;case 2:e=ResourceUtils.createBitmapByName("fight2BgImage"),this.addChild(e),i.initView(2,1),s.initView(2,2);break;case 3:e=ResourceUtils.createBitmapByName("fight3BgImage"),this.addChild(e),i.initView(3,1),s.initView(3,2);break;case 4:e=ResourceUtils.createBitmapByName("fight4BgImage"),this.addChild(e),i.initView(4,1),s.initView(4,2);break;case 5:e=ResourceUtils.createBitmapByName("fight5BgImage"),this.addChild(e),i.initView(5,1),s.initView(5,2)}this.addChild(s),this.addChild(i),s.x=Const.SCENT_WIDTH-s.width},e}(egret.Sprite);egret.registerClass(BackGroundView,"BackGroundView");var BgView=function(t){function e(){t.call(this),this.bg1Height=0,this.bg2Height=0}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(t){this.bg2=new BackGroundView(t),this.addChild(this.bg2),this.bg1=new BackGroundView(t),this.addChild(this.bg1),this.bg1Height=this.bg1.height,this.bg1.y=-this.bg1Height+Const.SCENT_HEIGHT,this.bg2Height=this.bg2.height,this.bg2.y=this.bg1.y-this.bg2Height},s.updata=function(){this.bg1.y>=Const.SCENT_HEIGHT&&(this.bg1.y=this.bg2.y-this.bg1Height),this.bg2.y>=Const.SCENT_HEIGHT&&(this.bg2.y=this.bg1.y-this.bg2Height),this.bg1.y+=GameData.bgSpeed,this.bg2.y+=GameData.bgSpeed},s.dispose=function(){this.removeChildren(),this.bg1=null,this.bg2=null},e}(egret.Sprite);egret.registerClass(BgView,"BgView");var BoldBar=function(t){function e(){t.call(this),this.w=0,this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("blodBarBgImage");this.addChild(t);var e=ResourceUtils.createBitmapByName("blodBarImage");this.addChild(e),e.x=38,e.y=8,this.w=e.width,this.r=new egret.Rectangle,this.r.x=0,this.r.y=0,this.r.width=e.width,this.r.height=e.height,e.mask=this.r},s.scaleBlodX=function(){this.r.x=-(this.w-this.w*(GameData.blod/5))},e}(egret.Sprite);egret.registerClass(BoldBar,"BoldBar");var Bomb=function(t){function e(){t.call(this),this.speed=0,this.angle=0,this.lastX=0,this.lastY=0,this.sp=ResourceUtils.createBitmapByName("bombImage"),this.addChild(this.sp),this.sp.x=this.sp.width/2,this.sp.rotation=90,this.speed=30,egret.Ticker.getInstance().register(this.onFrame,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.move=function(){this.rotation=180*Math.atan2(this.lastY-this.y,this.lastX-this.x)/Math.PI,this.angle=this.rotation},s.onFrame=function(){if(this.visible){this.x+=this.speed*Math.cos(this.angle/180*Math.PI),this.y+=this.speed*Math.sin(this.angle/180*Math.PI);var t=Math.sqrt(Math.pow(this.x-this.lastX,2)+Math.pow(this.y-this.lastY,2));15>t&&(this.visible=!1)}},s.dispose=function(){egret.Ticker.getInstance().unregister(this.onFrame,this),this.removeChildren(),this.sp=null},e}(egret.Sprite);egret.registerClass(Bomb,"Bomb");var Daoju=function(t){function e(e){void 0===e&&(e=0),t.call(this),this.initView(e)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(t){void 0===t&&(t=0)},e}(egret.Sprite);egret.registerClass(Daoju,"Daoju");var DaZhaoBar=function(t){function e(){t.call(this),this.w=0,this.b=0,this.rx=1,this.boo=!1}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("dazhaoBarBg");this.addChild(t);var e=ResourceUtils.createBitmapByName("dazhaoImage");this.addChild(e),t.x=-2,t.y=2,e.y=t.y+2,this.w=e.width,this.r=new egret.Rectangle,this.b=e.x-e.width,this.r.x=this.b,this.r.y=0,this.r.width=e.width,this.r.height=e.height,e.mask=this.r,egret.Ticker.getInstance().register(this.onFrameHandler,this)},s.onFrameHandler=function(){this.boo&&(this.r.x=this.rx)},s.setValue=function(){this.boo||(GameData.profectNum>GameData.dazhaoTime&&(GameData.profectNum=GameData.dazhaoTime),this.r.x=-(this.w-this.w*(GameData.profectNum/GameData.dazhaoTime)))},e}(egret.Sprite);egret.registerClass(DaZhaoBar,"DaZhaoBar");var Enemy=function(t){function e(e){t.call(this),this.row=0,this.name="",this.over=!1,this.stopMove=!1,this.isStopHasClick=!1,this.bold=0,this.guo=0,this.type=0,this.onjump=!1,this.initView(e)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(t){switch(this.type=t,t){case 1:this.sp=StarlingSwfFactory.getInstance().makeMc("lang"),this.sp.goToPlay("run"),this.bold=1;break;case 2:this.sp=StarlingSwfFactory.getInstance().makeMc("lieren"),this.sp.goToPlay("run"),this.bold=1;break;case 3:this.sp=StarlingSwfFactory.getInstance().makeMc("huli"),this.sp.goToPlay("run"),this.bold=2;break;case 4:this.sp=StarlingSwfFactory.getInstance().makeMc("niao"),this.sp.goToPlay("run"),this.bold=1;break;case 5:this.sp=StarlingSwfFactory.getInstance().makeMc("bianfu"),this.sp.goToPlay("run"),this.bold=3;break;case 6:this.sp=StarlingSwfFactory.getInstance().makeMc("daoju"),this.sp.goToPlay("1"),this.bold=1;break;case 7:this.sp=StarlingSwfFactory.getInstance().makeMc("daoju"),this.sp.goToPlay("2"),this.bold=1;break;case 8:this.sp=StarlingSwfFactory.getInstance().makeMc("daoju"),this.sp.goToPlay("3"),this.bold=1;break;case 9:this.sp=StarlingSwfFactory.getInstance().makeMc("daoju"),this.sp.goToPlay("4"),this.bold=1}this.addChild(this.sp)},s.alphaToZero=function(){this.visible=!1},s.goToJjump=function(){this.sp.goToPlay("jump")},s.goToStop=function(){this.sp.gotoAndStop(0)},s.gotoDie=function(){this.sp.goToPlay("die")},s.move=function(){if(this.stopMove&&this.goOut(),this.y<820){if(this.onjump){if(this.y-=3*GameData.enemySpeed,this.goToJjump(),this.isStopHasClick=!0,this.y<=160&&(this.sp.goToPlay("run"),this.onjump=!1,this.isStopHasClick=!1,4==this.type||5==this.type)){var t=Math.floor(4*Math.random()+1);if(1!=t)return;10==this.x?this.x=129:129==this.x?248==this.x:248==this.x?this.x=129:367==this.x&&(this.x=248)}return}this.stopMove||(this.y+=GameData.enemySpeed)}else this.y=820,this.over=!0},s.goOut=function(){1==this.row?(this.x-=15,this.y-=15):2==this.row?(this.x-=15,this.y-=20):3==this.row?(this.x+=15,this.y-=20):4==this.row&&(this.x+=15,this.y-=15)},s.stopMoveEnemy=function(){this.stopMove=!0},s.dispose=function(){this.removeChildren()},e}(egret.Sprite);egret.registerClass(Enemy,"Enemy");var FightButton=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){this.button=StarlingSwfFactory.getInstance().makeMc("bazi"),this.addChild(this.button),this.button.gotoAndStop(0)},s.goPlay=function(t){this.button.gotoAndStop(t)},e}(egret.Sprite);egret.registerClass(FightButton,"FightButton");var GirlDistanceBar=function(t){function e(){t.call(this),this._heightBar=0,this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("distanceBarImage");this.addChild(t),this.head=ResourceUtils.createBitmapByName("redGirlHeadImage"),this.addChild(this.head),t.x=this.head.width/2,this._heightBar=t.height,this.head.y=this._heightBar},s.moveHead=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.head.y=this._heightBar-this._heightBar*(GameData.redGirlDistance/(t+e))},e}(egret.Sprite);egret.registerClass(GirlDistanceBar,"GirlDistanceBar");var Hinder=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(t,e){var i;switch(t){case 1:1==e?(i=ResourceUtils.createBitmapByName("wall1_1Image"),this.addChild(i)):(i=ResourceUtils.createBitmapByName("wall1_2Image"),this.addChild(i));break;case 2:1==e?(i=ResourceUtils.createBitmapByName("wall2_1Image"),this.addChild(i)):(i=ResourceUtils.createBitmapByName("wall2_2Image"),this.addChild(i));break;case 3:1==e?(i=ResourceUtils.createBitmapByName("wall3_1Image"),this.addChild(i)):(i=ResourceUtils.createBitmapByName("wall3_2Image"),this.addChild(i));break;case 4:1==e?(i=ResourceUtils.createBitmapByName("wall4_1Image"),this.addChild(i)):(i=ResourceUtils.createBitmapByName("wall4_2Image"),this.addChild(i));break;case 5:1==e?(i=ResourceUtils.createBitmapByName("wall5_1Image"),this.addChild(i)):(i=ResourceUtils.createBitmapByName("wall5_2Image"),this.addChild(i))}},e}(egret.Sprite);egret.registerClass(Hinder,"Hinder");var House=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("houseImage");this.addChild(t)},e}(egret.Sprite);egret.registerClass(House,"House");var Line=function(t){function e(){t.call(this),this.boo=!1,this.sp=ResourceUtils.createBitmapByName("lineImage"),this.addChild(this.sp),this.sp.x=this.sp.width/2,egret.Ticker.getInstance().register(this.onFrame,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.move=function(){this.visible=!0,this.boo=!0},s.onFrame=function(t){this.boo&&(this.y+=3*GameData.enemySpeed,this.y>Const.SCENT_HEIGHT&&(this.visible=!1,this.boo=!1))},e}(egret.Sprite);egret.registerClass(Line,"Line");var RedGirl=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){this.girl=StarlingSwfFactory.getInstance().makeMc("xiaohongmao"),this.addChild(this.girl),this.girl.gotoAndStop(0)},s.run=function(){this.girl.goToPlay("1")},s.gotoDie=function(){this.girl.goToPlay("2")},s.gotoWin=function(){this.girl.goToPlay("3")},s.dispose=function(){this.removeChildren()},e}(egret.Sprite);egret.registerClass(RedGirl,"RedGirl");var SourceView=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("sorceMcImage");this.addChild(t),this.showSorce=new SpecialNumber("number-"),this.showSorce.x=t.width+10,this.addChild(this.showSorce)},s.setValue=function(t){void 0===t&&(t=0),this.showSorce.setValue(t+"")},e}(egret.Sprite);egret.registerClass(SourceView,"SourceView");var StreakNum=function(t){function e(){t.call(this),this.conboW=0,this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("comboImage");this.addChild(t),this.conboW=t.width,this.showSorce=new SpecialNumber("number-0"),this.showSorce.x=this.conboW/2-this.showSorce.width/2,this.showSorce.y=t.height+5,this.addChild(this.showSorce)},s.setValue=function(t){void 0===t&&(t=0),this.showSorce.x=this.conboW/2-this.showSorce.width/2,this.showSorce.setValue(t+"")},e}(egret.Sprite);egret.registerClass(StreakNum,"StreakNum");var GameInfoView=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=ResourceUtils.createBitmapByName("gameinfoImage");this.addChild(t);var e=new MyButtonForGame("startBtnImage","startBtnImage");this.addChild(e),e.y=Const.SCENT_HEIGHT-e.height,e.x=Const.SCENT_WIDTH/2-e.width/2,e.setClick(this.onStartGameHandler.bind(this))},s.onStartGameHandler=function(){GameSceneView._gameScene.play(),this.removeChildren()},e}(egret.Sprite);egret.registerClass(GameInfoView,"GameInfoView");var GameOverView=function(t){function e(){t.call(this),this.thisNum=0,this.num=0,this.t1Num=0,this.t2Num=0,this.t3Num=0,this.huliW=0,this.langW=0,this.bianfuW=0,this.ttNum=0,this.tNum=0,this.boo1=!1,this.boo3=!1,this.boo2=!1,this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){if(this.thisContainer=new egret.Sprite,this.addChild(this.thisContainer),this.bg=ResourceUtils.createBitmapByName("overBgImage"),this.thisContainer.addChild(this.bg),this.initEnemy(GameData.curScene),this.sorce=new SpecialNumber("number-0"),this.thisContainer.addChild(this.sorce),this.sorce.setValue("0"),this.sorce.x=Const.SCENT_WIDTH/2-this.sorce.width/2,this.sorce.y=Const.SCENT_HEIGHT/6,egret.Ticker.getInstance().register(this.showSorce,this),this.tt=new egret.TextField,this.addChild(this.tt),GameData.isWin)var t=Math.floor(15*Math.random()+80);else var t=Math.floor(40*Math.random()+40);this.ttNum=t,this.tt.text="超越了丛林中0%的小伙伴",this.tt.textColor=0,this.tt.bold=!0,this.tt.size=32,this.tt.x=this.thisContainer.width/2-this.tt.width/2-10,this.tt.y=505,this.spGengduo=new egret.Sprite,this.thisContainer.addChild(this.spGengduo);var e=ResourceUtils.createBitmapByName("btngengduoyouxi");this.spGengduo.addChild(e),this.spGengduo.touchEnabled=!0,this.spGengduo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this),this.spZaiLai=new egret.Sprite,this.thisContainer.addChild(this.spZaiLai);var i=ResourceUtils.createBitmapByName("btnzailaiyici");this.spZaiLai.addChild(i),this.spZaiLai.touchEnabled=!0,this.spZaiLai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toGameStartView,this),this.spFenXiang=new egret.Sprite,this.thisContainer.addChild(this.spFenXiang);var s=ResourceUtils.createBitmapByName("btnfenxiang");this.spFenXiang.addChild(s),this.spFenXiang.touchEnabled=!0,this.spFenXiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toShareView,this),this.spGengduo.y=this.spFenXiang.y=this.spZaiLai.y=600,this.spGengduo.x=12,this.spZaiLai.x=170,this.spFenXiang.x=330,egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE&&(this.thisContainer.removeChild(this.spGengduo),this.thisContainer.removeChild(this.spFenXiang)),this.sp=new egret.Sprite,this.addChild(this.sp);var a=ResourceUtils.createBitmapByName("shareImage");a.width=Const.SCENT_WIDTH,a.height=Const.SCENT_HEIGHT,this.sp.addChild(a),this.sp.visible=!1,this.sp.touchEnabled=!0,this.sp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchShare,this),this.thisContainer.scaleX=this.thisContainer.scaleY=.9,this.thisContainer.x=Const.SCENT_WIDTH/2-this.thisContainer.width/2+30,this.thisContainer.y=Const.SCENT_HEIGHT/2-this.thisContainer.height/2+30},s.showSorce=function(t){this.num++,this.thisNum<GameData.sorce&&(this.thisNum+=this.num,this.thisNum>GameData.sorce&&(this.thisNum=GameData.sorce),this.sorce.setValue(this.thisNum+""),this.sorce.x=Const.SCENT_WIDTH/2-this.sorce.width/2),this.boo1&&this.t1Num<GameData.langNum&&(this.t1Num+=3,this.t1Num>GameData.langNum&&(this.t1Num=GameData.langNum),this.t1.setValue(this.t1Num+""),this.t1.x=this.langW-this.t1.width/2),this.boo2&&this.t2Num<GameData.huliNum&&(this.t2Num+=3,this.t2Num>GameData.huliNum&&(this.t2Num=GameData.huliNum),this.t2.setValue(this.t2Num+""),this.t2.x=this.huliW-this.t2.width/2),this.boo3&&this.t3Num<GameData.bianfuNum&&(this.t3Num+=3,this.t3Num>GameData.bianfuNum&&(this.t3Num=GameData.bianfuNum),this.t3.setValue(this.t3Num+""),this.t3.x=this.bianfuW-this.t3.width/2),this.tNum<this.ttNum&&(this.tNum+=2,this.tNum>this.ttNum&&(this.tNum=this.ttNum),this.tt.text="超越了丛林中"+this.tNum+"%的小伙伴",this.tt.x=this.thisContainer.width/2-this.tt.width/2-10)},s.toShareView=function(t){},s.toGengDuoView=function(t){this.spGengduo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this)},s.toGameStartView=function(t){GameData.curScene=1,GameData.sorce=0,GameData.langNum=0,GameData.huliNum=0,GameData.bianfuNum=0,GameData.isPause=!0,GameData.count=0,GameData.profectNum=0,GameData.stopCreateEnemy=0,GameData.redGirlDistance=0,GameData.blod=5,this.spGengduo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this),this.spFenXiang.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toShareView,this),this.spZaiLai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGameStartView,this),this.removeChildren(),this.parent&&this.parent.removeChild(this),GameSceneView._gameScene.start()},s.touchShare=function(t){this.sp.visible=!1},s.initEnemy=function(t){if(void 0===t&&(t=0),1==t||2==t){this.boo1=!0;var e=StarlingSwfFactory.getInstance().makeMc("lang");this.thisContainer.addChild(e),e.goToPlay("run"),e.y=340,e.x=140+e.width,this.langW=e.x,this.t1=new SpecialNumber("number-"),this.thisContainer.addChild(this.t1),this.t1.setValue("0"),this.t1.x=e.x-this.t1.width/2,this.t1.y=e.y+.6*e.height-20}else if(3==t||4==t){this.boo1=!0,this.boo2=!0;var e=StarlingSwfFactory.getInstance().makeMc("lang"),i=StarlingSwfFactory.getInstance().makeMc("huli");this.thisContainer.addChild(e),this.thisContainer.addChild(i),e.goToPlay("run"),i.goToPlay("run"),i.y=320,e.y=340,e.x=(220+e.width)/2,i.x=e.x+e.width+60,this.langW=e.x,this.huliW=i.x,this.t1=new SpecialNumber("number-"),this.thisContainer.addChild(this.t1),this.t1.setValue("0"),this.t1.x=e.x-this.t1.width/2,this.t1.y=e.y+.6*e.height-20,this.t2=new SpecialNumber("number-"),this.thisContainer.addChild(this.t2),this.t2.setValue("0"),this.t2.x=i.x-this.t2.width/2,this.t2.y=i.y+.6*e.height}else if(5==t||6==t){this.boo1=!0,this.boo2=!0,this.boo3=!0;var e=StarlingSwfFactory.getInstance().makeMc("lang"),i=StarlingSwfFactory.getInstance().makeMc("huli"),s=StarlingSwfFactory.getInstance().makeMc("bianfu");this.thisContainer.addChild(e),this.thisContainer.addChild(i),this.thisContainer.addChild(s),e.goToPlay("run"),i.goToPlay("run"),s.goToPlay("run"),i.y=320,s.y=335,e.y=340,e.x=90,i.x=e.x+e.width+60,this.huliW=i.x,this.langW=e.x,s.x=i.x+i.width+70,this.bianfuW=s.x,this.t1=new SpecialNumber("number-"),this.thisContainer.addChild(this.t1),this.t1.setValue("0"),this.t1.x=e.x-this.t1.width/2,this.t1.y=e.y+.6*e.height-20,this.t2=new SpecialNumber("number-"),this.thisContainer.addChild(this.t2),this.t2.setValue("0"),this.t2.x=i.x-this.t2.width/2,this.t2.y=i.y+.6*e.height,this.t3=new SpecialNumber("number-"),this.thisContainer.addChild(this.t3),this.t3.setValue("0"),this.t3.x=s.x-this.t3.width/2,this.t3.y=s.y+.6*e.height-15}},e}(egret.Sprite);egret.registerClass(GameOverView,"GameOverView");var MusicView=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=new egret.Sprite;this.addChild(t);var e=ResourceUtils.createBitmapByName("maskImage");t.addChild(e),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchThis,this),this.spContainer=new egret.Sprite,this.addChild(this.spContainer);var i=Const.SCENT_WIDTH/8,s=Const.SCENT_HEIGHT/4;this.spContainer.x=i,this.spContainer.y=s;var a=ResourceUtils.createBitmapByName("optionMusicBgImage");this.spContainer.addChild(a);var n=new egret.Sprite;this.spContainer.addChild(n);var h=ResourceUtils.createBitmapByName("option7Image");n.addChild(h),n.touchEnabled=!0,n.x=this.spContainer.width-.7*n.width,n.y=.4*-n.height,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePop,this);var o=new egret.Sprite;this.spContainer.addChild(o),this.spguanbg=ResourceUtils.createBitmapByName("option5Image"),o.addChild(this.spguanbg),this.spkaibg=ResourceUtils.createBitmapByName("option6Image"),o.addChild(this.spkaibg),this.spguanbg.x=0,this.spkaibg.x=30,o.x=182,o.y=84,o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBgHandler,this);var r=new egret.Sprite;this.spContainer.addChild(r),this.spguan=ResourceUtils.createBitmapByName("option5Image"),r.addChild(this.spguan),this.spkai=ResourceUtils.createBitmapByName("option6Image"),r.addChild(this.spkai),this.spguan.x=0,this.spkai.x=30,r.x=182,r.y=148,r.touchEnabled=!0,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),GameData.closeBgMusic?(this.spguanbg.visible=!0,this.spkaibg.visible=!1):(this.spguanbg.visible=!1,this.spkaibg.visible=!0),GameData.closeMusic?(this.spguan.visible=!0,this.spkai.visible=!1):(this.spguan.visible=!1,this.spkai.visible=!0)},s.onTouchThis=function(t){t.stopImmediatePropagation(),t.stopPropagation()},s.clickHandler=function(t){GameData.closeMusic?(this.spkai.visible=!0,this.spguan.visible=!1,GameData.closeMusic=!1):(this.spkai.visible=!1,this.spguan.visible=!0,GameData.closeMusic=!0)},s.clickBgHandler=function(t){GameData.closeBgMusic?(this.spguanbg.visible=!1,this.spkaibg.visible=!0,GameData.closeBgMusic=!1):(this.spguanbg.visible=!0,this.spkaibg.visible=!1,GameData.closeBgMusic=!0)},s.closePop=function(t){this.parent&&(GameData.isClickBtn=!1),this.visible=!1},s.removeAll=function(){this.removeChildren()},e}(egret.Sprite);egret.registerClass(MusicView,"MusicView");var OptionView=function(t){function e(){t.call(this),this.initView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initView=function(){var t=new egret.Sprite;this.addChild(t);var e=ResourceUtils.createBitmapByName("maskImage");t.addChild(e),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHandler,this),this.spContainer=new egret.Sprite,this.addChild(this.spContainer);var i=ResourceUtils.createBitmapByName("optionBgImage");this.spContainer.addChild(i);var s=Const.SCENT_WIDTH/8,a=Const.SCENT_HEIGHT/4;this.spContainer.x=s,this.spContainer.y=a;var n=new egret.Sprite;this.spContainer.addChild(n);var h=ResourceUtils.createBitmapByName("zhinanImage");n.addChild(h),n.x=this.spContainer.width/2-n.width/2,n.y=200,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHelp,this),n.touchEnabled=!0,this.helpSp=new egret.Sprite,this.addChild(this.helpSp);var o=new egret.Sprite;this.spContainer.addChild(o);var r=ResourceUtils.createBitmapByName("option7Image");o.addChild(r),o.touchEnabled=!0,o.x=this.spContainer.width-.7*o.width,o.y=.4*-o.height,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePop,this);var l=new egret.Sprite;this.spContainer.addChild(l),this.spguanbg=ResourceUtils.createBitmapByName("option5Image"),l.addChild(this.spguanbg),this.spkaibg=ResourceUtils.createBitmapByName("option6Image"),l.addChild(this.spkaibg),this.spguanbg.x=0,this.spkaibg.x=30,l.x=182,l.y=84,l.touchEnabled=!0,l.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBgHandler,this);var d=new egret.Sprite;this.spContainer.addChild(d),this.spguan=ResourceUtils.createBitmapByName("option5Image"),d.addChild(this.spguan),this.spkai=ResourceUtils.createBitmapByName("option6Image"),d.addChild(this.spkai),this.spguan.x=0,this.spkai.x=30,d.x=182,d.y=148,d.touchEnabled=!0,d.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),GameData.closeBgMusic?(this.spguanbg.visible=!0,this.spkaibg.visible=!1):(this.spguanbg.visible=!1,this.spkaibg.visible=!0),GameData.closeMusic?(this.spguan.visible=!0,this.spkai.visible=!1):(this.spguan.visible=!1,this.spkai.visible=!0)},s.onClickHandler=function(t){t.stopPropagation(),t.stopImmediatePropagation()},s.touchHelp=function(t){if(0==this.helpSp.visible)return void(this.helpSp.visible=!0);var e=ResourceUtils.createBitmapByName("gameinfoImage");e.width=Const.SCENT_WIDTH,e.height=Const.SCENT_HEIGHT,this.helpSp.addChild(e);var i=new MyButton("closeGameBtnImage","closeGameBtnImage");this.helpSp.addChild(i);var s=Const.SCENT_WIDTH/2-i.width/2,a=Const.SCENT_HEIGHT-i.height;i.x=s,i.y=a,i.setClick(this.showStartView.bind(this))},s.showStartView=function(){this.helpSp.visible=!1},s.clickHandler=function(t){GameData.closeMusic?(this.spkai.visible=!0,this.spguan.visible=!1,GameData.closeMusic=!1):(this.spkai.visible=!1,this.spguan.visible=!0,GameData.closeMusic=!0)},s.clickBgHandler=function(t){GameData.closeBgMusic?(this.spguanbg.visible=!1,this.spkaibg.visible=!0,GameData.closeBgMusic=!1,SoundUtils.instance().playBg()):(this.spguanbg.visible=!0,this.spkaibg.visible=!1,GameData.closeBgMusic=!0,SoundUtils.instance().stopBg())},s.closePop=function(t){this.visible=!1,GameData.isStart&&(GameData.isPause=!1)},e}(egret.Sprite);egret.registerClass(OptionView,"OptionView");
var ReliveView=function(t){function e(){t.call(this),this.initUI()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.initUI=function(){var t=GameUtils.createBitmapByName("newAssets.blackBg");t.touchEnabled=!0,t.alpha=.3,t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,this.addChild(t),this.btnRelive=new Button,this.btnRelive.setTexture(new ButtonSkin("newAssets.btn01_up","newAssets.btn01_down")),this.btnRelive.setLableTexture("newAssets.fuhuo"),this.btnRelive.x=Const.SCENT_WIDTH/2-this.btnRelive.width-10,this.btnRelive.y=Const.SCENT_HEIGHT/2-this.btnRelive.height-10,this.addChild(this.btnRelive),this.btnOver=new Button,this.btnOver.setTexture(new ButtonSkin("newAssets.btn02_up","newAssets.btn02_down")),this.btnOver.setLableTexture("newAssets.jieshu"),this.btnOver.x=Const.SCENT_WIDTH/2+10,this.btnOver.y=Const.SCENT_HEIGHT/2-this.btnRelive.height-10,this.addChild(this.btnOver)},s.setGameOver=function(t,e){this.btnOver.setClickHandler(t,e)},s.setRelive=function(t,e){this.btnRelive.setClickHandler(t,e)},e}(egret.DisplayObjectContainer);egret.registerClass(ReliveView,"ReliveView");var Button=function(t){function e(e){void 0===e&&(e=null),t.call(this),this._buttonSkin=e,this.upBmp=new egret.Bitmap,this.upBmp.visible=!0,this.downBmp=new egret.Bitmap,this.downBmp.visible=!1,this.lable=new egret.Bitmap,this.touchEnabled=!0,this.addChild(this.upBmp),this.addChild(this.downBmp),this.addChild(this.lable),this.setTexture(e),this.addHandlers()}__extends(e,t);var i=__define,s=e,a=s.prototype;return a.addHandlers=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},a.touchHandler=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.upBmp.visible=!1,this.downBmp.visible=!0;break;case egret.TouchEvent.TOUCH_END:this.upBmp.visible=!0,this.downBmp.visible=!1;break;case egret.TouchEvent.TOUCH_TAP:this.clickHandler.call(this.clickHandlerObj,t)}},a.setTexture=function(t){t&&(this._buttonSkin=t,this.upBmp.texture=GameUtils.createTextureByName(t.upSkinName),this.downBmp.texture=GameUtils.createTextureByName(t.downSkinName))},a.setLableTexture=function(t){this.lable.texture=GameUtils.createTextureByName(t),this.lable.x=this.width/2-this.lable.width/2,this.lable.y=this.height/2-this.lable.height/2},i(a,"buttonSkin",function(){return this._buttonSkin}),a.setClickHandler=function(t,e){this.clickHandler=t,this.clickHandlerObj=e},e}(egret.Sprite);egret.registerClass(Button,"Button");var ButtonSkin=function(){function t(t,e){this._upSkinName=t,this._downSkinName=e}var e=__define,i=t,s=i.prototype;return e(s,"upSkinName",function(){return this._upSkinName}),e(s,"downSkinName",function(){return this._downSkinName}),t}();egret.registerClass(ButtonSkin,"ButtonSkin");var Const=function(){function t(){}var e=(__define,t);e.prototype;return t.SCENT_WIDTH=0,t.SCENT_HEIGHT=0,t.GamePoxY=0,t.setSwfArr=["s","t","a","t","i","c",".","e","g","r","e","t","-","l","a","b","s",".","o","r","g"],t}();egret.registerClass(Const,"Const");var GameUtils=function(){function t(){}var e=(__define,t);e.prototype;return t.createBitmapByName=function(e){var i=new egret.Bitmap;return i.texture=t.createTextureByName(e),i},t.createTextureByName=function(e){if(-1==e.indexOf("."))return RES.getRes(e);var i=e.split(".")[0],s=e.split(".")[1];return t.createTexturesFromSheet(s,i)},t.createTexturesFromSheet=function(t,e){var i=RES.getRes(e);return i.getTexture(t)},t}();egret.registerClass(GameUtils,"GameUtils");var GS=function(){function t(){}var e=(__define,t);e.prototype;return t.bb=0x396ae77e3688a,t}();egret.registerClass(GS,"GS");var MyButton=function(t){function e(e,i){t.call(this),this.sp=new egret.Sprite,this.addChild(this.sp),this.bg=ResourceUtils.createBitmapByName(e),this.sp.addChild(this.bg),this.title=ResourceUtils.createBitmapByName(i),null==this.title.texture&&(this.title.texture=RES.getRes(i)),this.title.x=this.bg.width-this.title.width>>1,this.title.y=this.bg.height-this.title.height>>1,this.sp.addChild(this.title),this.noScaleX=this.sp.x,this.noScaleY=this.sp.y}__extends(e,t);var i=(__define,e),s=i.prototype;return s.setClick=function(t){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEvent,this),this.onClick=t},s.onClickEvent=function(){var t=(this.sp.width-.8*this.sp.width)/2,e=(this.sp.height-.8*this.sp.height)/2;this.tw=egret.Tween.get(this.sp),this.tw.to({scaleX:.7,scaleY:.7,x:t,y:e},40).to({scaleX:1,scaleY:1,x:this.noScaleX,y:this.noScaleY},40),this.onClick()},e}(egret.Sprite);egret.registerClass(MyButton,"MyButton");var MyButtonForGame=function(t){function e(e,i){t.call(this),this.sp=new egret.Sprite,this.addChild(this.sp),this.bg=ResourceUtils.createBitmapByName(e),this.sp.addChild(this.bg),this.title=ResourceUtils.createBitmapByName(i),null==this.title.texture&&(this.title.texture=RES.getRes(i)),this.title.x=this.bg.width-this.title.width>>1,this.title.y=this.bg.height-this.title.height>>1,this.sp.addChild(this.title),this.noScaleX=this.sp.x,this.noScaleY=this.sp.y}__extends(e,t);var i=(__define,e),s=i.prototype;return s.setClick=function(t){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEvent,this),this.onClick=t},s.onClickEvent=function(){if(!GameData.isClickBtn){var t=(this.sp.width-.8*this.sp.width)/2,e=(this.sp.height-.8*this.sp.height)/2;this.tw=egret.Tween.get(this.sp),this.tw.to({scaleX:.7,scaleY:.7,x:t,y:e},40).to({scaleX:1,scaleY:1,x:this.noScaleX,y:this.noScaleY},40).call(this.onClickHandler,this)}},s.onClickHandler=function(){this.onClick()},e}(egret.Sprite);egret.registerClass(MyButtonForGame,"MyButtonForGame");var PromptPop=function(t){function e(){t.call(this),this.isShow=!1,this.isInto=!1,this.isAway=!1,this.isHide=!1,this.stay=0,this.tX=0,this.tY=0,this.config={isHide:!0,stayTime:800,tx:0,ty:0}}__extends(e,t);var i=__define,s=e,a=s.prototype;return a.activate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=null),this.config.tx=t,this.config.ty=e,this.settings(i),this.targetMc=StarlingSwfFactory.getInstance().makeMc("tip"),this.addChild(this.targetMc),this.targetMc.x=this.tX,this.targetMc.y=this.tY,this.targetMc.visible=!1},a.show=function(t,e){void 0===e&&(e=null),null!=this.targetMc&&(e&&(null!=e.isHide&&(this.isHide=e.isHide),null!=e.stayTime&&(this.stay=e.stayTime),null!=e.tx&&(this.tX=e.tx),null!=e.ty&&(this.tY=e.ty)),this.setMc(t),this.tweenStar())},a.tweenStar=function(){this.isInto=!0,this.isShow=!0,this.isAway=!1,this.targetMc.x=this.tX,this.targetMc.y=this.tY,this.targetMc.alpha=1,this.targetMc.visible=!0,this.tw=egret.Tween.get(this.targetMc).call(this.tweenStop,this),this.tw.to({y:this.tY-200,alpha:1},200)},a.tweenStop=function(){this.isInto=!1,this.isHide&&(this.isAway=!0,this.tw=egret.Tween.get(this.targetMc).call(this.tweenOver,this),this.tw.to({alpha:0,delay:1,visible:!1},this.stay)),this.settings()},a.tweenOver=function(){this.isShow=!1,this.isAway=!1},a.hide=function(t){void 0===t&&(t=0),this.isHide=!0,this.stay=t,this.tweenStop()},a.settings=function(t){if(void 0===t&&(t=null),null!=t)for(var e in this.config)this.config[e]=null!=t[e]?t[e]:this.config[e];this.isHide=this.config.isHide,this.stay=this.config.stayTime,this.tX=this.config.tx,this.tY=this.config.ty},a.setMc=function(t){this.targetMc.goToPlay(t)},i(a,"isSHOW",function(){return this.isShow}),i(a,"isINTO",function(){return this.isInto}),i(a,"isAWAY",function(){return this.isAway}),a.removeAll=function(){},e}(egret.Sprite);egret.registerClass(PromptPop,"PromptPop");var ResourceUtils=function(){function t(){}var e=(__define,t);e.prototype;return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t.createBitmapFromSheet=function(t,e){void 0===e&&(e="gameRes");var i=RES.getRes(e),s=i.getTexture(t),a=new egret.Bitmap;return a.texture=s,a},t.getTextureFromSheet=function(t,e){void 0===e&&(e="gameRes");var i=RES.getRes(e),s=i.getTexture(t);return s},t}();egret.registerClass(ResourceUtils,"ResourceUtils");var ShareUtils=function(){function t(){}var e=(__define,t);e.prototype;return t.moreGame=function(){if(t.isInU9())location.href="u9time://gamelist";else{var e=t.findLocationProperty("app_id");window.open("http://games.egret-labs.org/more.php?app_id="+e,"_self")}},t.shareToWeChat=function(){},t.isSetSwfFrame=function(){for(var t=0,e="",i=GameData.num.length;i>t;t++)e+=GameData.num[t]+"";return e},t.shareOther=function(){!window.hasOwnProperty("location")},t.shareToU9=function(){if(window.hasOwnProperty("location")){var e=location.href;e+=""==location.search?"?channel=weixin":"&channel=weixin",e=encodeURIComponent(e);var i="123",s=encodeURIComponent(t.shareDesc),a=t.getUid(),n="u9time://share?uid="+a+"&game_url="+e+"&a="+i+"&msg="+s;a||(n="u9time://share?&game_url="+e+"&a="+i+"&msg="+s),location.href=n}},t.shareToBaidu=function(){},t.setUserScore=function(e){t.isInBaidu()},t.rank=function(){t.isInBaidu()},t.setShareInfo=function(e,i){t.shareTitle=e,t.shareDesc=i,t.isInWeChat()?t.shareToWeChat():t.shareOther()},t.isInWeChat=function(){if(!window.hasOwnProperty("navigator"))return!1;var t=window.navigator.userAgent;return-1!=t.indexOf("MicroMessenger")},t.isInU9=function(){if(!window.hasOwnProperty("navigator"))return!1;var t=window.navigator.userAgent;return-1!=t.indexOf("EgretRuntime")&&-1!=t.indexOf("yoyo")},t.isInBaidu=function(){if(!window.hasOwnProperty("location"))return!1;var t=location.href;return-1!=t.indexOf("release_baidu")},t.findLocationProperty=function(t){if(!window.hasOwnProperty("location"))return null;var e=location.search;if(""==e)return null;e=e.slice(1);for(var i=e.split("&"),s=i.length,a=0;s>a;a++){var n=i[a],h=n.split("=");if(h[0]==t)return h[1]}return null},t.getUid=function(){return t.findLocationProperty("uid")},t.onEnterGame=function(){if(!t.isInBaidu()){var e=t.findLocationProperty("app_id"),i=t.findLocationProperty("game_id"),s=t.findLocationProperty("device_id");if(e&&i){s||(s=egret.localStorage.getItem("device_id"),s||(s=Math.random())),egret.localStorage.setItem("device_id",s);var a="http://statistics.egret-labs.org/api.php?app_id="+e+"&game_id="+i+"&device_id="+s,n=t.findLocationProperty("channel");if(n&&t.isInWeChat()&&(a+="&channel="+n),a){var h=new egret.URLLoader;h.load(new egret.URLRequest(a))}}}},t.IconPath="http://static.egret-labs.org/h5game/icons/10000062.jpg",t.shareSwfInfo=Const.setSwfArr.join(""),t}();egret.registerClass(ShareUtils,"ShareUtils");var SoundBase=function(t){function e(e){t.call(this),this._soundURL="bgSound",this._positon=0,this._loop=1,this._status=0,e&&(this._soundURL=e),this._sound=new egret.Sound,this._loadSound()}__extends(e,t);var i=(__define,e),s=i.prototype;return s._loadSound=function(){RES.getRes(this._soundURL)?this._sound=RES.getRes(this._soundURL):(this._sound.once(egret.Event.COMPLETE,this.loadComplete,this),this._sound.once(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this._sound.load(this._soundURL))},s.loadComplete=function(t){this._status=3;var e="��������";egret.log(e),this._sound.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,e)},s.onLoadErr=function(t){this._status=4;var e="����ʧ��"+this._soundURL;egret.log(e),this._sound.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR,!1,e)},s.setUrl=function(t){this._soundURL=t,this._loadSound()},s.looped=function(t){console.log("looped"),this._soundChannel=null,this._positon=0,this._status=0;var e="��������";this._loop>=0?this.dispatchEventWith(egret.Event.SOUND_COMPLETE,!1,e):this.play()},s.getStatus=function(){return this._status},s.setVolume=function(t){console.log(this._status),1===this._status&&(this._soundChannel.volume=t/100)},s.showPosition=function(){return 1===this._status&&(this._positon=this._soundChannel.position),this._positon},s.play=function(){return 4===this._status?void this._loadSound():(this._status=1,this._soundChannel&&this._soundChannel.stop(),this._soundChannel=this._sound.play(this._positon,1),this._soundChannel.once(egret.Event.SOUND_COMPLETE,this.looped,this),this._status)},s.setLoop=function(t){return void 0===t&&(t=1),this._loop=t,t},s.pause=function(){var t=this._status;return 1===t&&(this._positon=this._soundChannel.position,this._soundChannel.stop(),this._status=2),egret.log(this._positon),t},s.resume=function(){var t=this._status;return 2===t&&this.play(),egret.log(this._positon),t},s.stop=function(){this._status=0,this._positon=0,this._soundChannel.stop(),this._soundChannel=null},e}(egret.DisplayObjectContainer);egret.registerClass(SoundBase,"SoundBase");var SoundUtils=function(){function t(){if(null!=t._instance)throw new Error("singleton")}var e=(__define,t),i=e.prototype;return t.instance=function(){return null==this._instance?this._instance=new t:this._instance},i.initSound=function(){this.bgSound=new SoundBase("bgSound"),this.winSound=new SoundBase("winSound"),this.missSound=new SoundBase("missSound"),this.hitSound=new SoundBase("hitSound"),this.goSound=new SoundBase("hitSound"),this.overSound=new SoundBase("overSound"),this.beHitSound=new SoundBase("beHitSound"),this.numSound=new SoundBase("numSound")},i.playNum=function(){GameData.closeMusic||this.numSound.play()},i.playBeHit=function(){GameData.closeMusic||this.beHitSound.play()},i.playOver=function(){GameData.closeMusic||this.overSound.play()},i.playGo=function(){GameData.closeMusic||this.goSound.play()},i.playHit=function(){GameData.closeMusic||this.hitSound.play()},i.playMiss=function(){GameData.closeMusic||this.missSound.play()},i.playWin=function(){GameData.closeMusic||this.winSound.play()},i.playBg=function(){return GameData.closeBgMusic?void this.bgSound.pause():(this.bgSound.play(),void this.beHitSound.setLoop(1))},i.stopBg=function(){this.bgSound.pause()},t}();egret.registerClass(SoundUtils,"SoundUtils");var SpecialNumber=function(t){function e(e){t.call(this),this.charName=e}__extends(e,t);var i=(__define,e),s=i.prototype;return s.setValue=function(t){if(this.removeChildren(),""!=t&&null!=t)for(var e=(t+"").split(""),i=e.length,s=0,a=0;i>a;a++){var n=e[a];if(","==n&&(n="dot"),"/"==n&&(n="gang"),"number-"==this.charName){var h;h="gang"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"sourceNum"):"dot"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"sourceNum"):ResourceUtils.createBitmapFromSheet(this.charName+n,"sourceNum")}else if("number-0"==this.charName){var h;h="gang"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"streakNum"):"dot"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"streakNum"):ResourceUtils.createBitmapFromSheet(this.charName+n,"streakNum")}h&&(h.x=s,s+=h.width,this.addChild(h))}},e}(egret.Sprite);egret.registerClass(SpecialNumber,"SpecialNumber");var GameData=function(){function t(){}var e=(__define,t);e.prototype;return t.closeMusic=!1,t.closeBgMusic=!1,t.isClickBtn=!1,t.isStart=!1,t.num=["1","0",".","0",".","4",".","1","8","0",":","3","0","0","0"],t.curScene=1,t.isPause=!0,t.redGirlDistance=0,t.sorce=0,t.blod=5,t.enemySpeed=0,t.stopCreateEnemy=0,t.stopEnemyBoo=!1,t.count=0,t.bgSpeed=0,t.profectNum=0,t.langNum=0,t.huliNum=0,t.bianfuNum=0,t.dazhaoTime=50,t.isWin=!1,t.isStartClickOption=!1,t.dubleSorce=!1,t.curTimeNum=0,t.sheDie=!1,t.sheTimeNum=0,t}();egret.registerClass(GameData,"GameData");var LoadingUI=function(t){function e(){t.call(this),this.logoUrl="resource/assets/loading_logo.png",this.bgUrl="resource/assets/loading_bg.jpg",this.createView()}__extends(e,t);var i=(__define,e),s=i.prototype;return s.createView=function(){this.w=Const.SCENT_WIDTH,this.h=Const.SCENT_HEIGHT,this.textField=new egret.TextField,this.textField.y=500,this.textField.textColor=3355443,this.textField.size=23,this.textField.width=this.w,this.textField.height=100,this.textField.fontFamily="Black",this.textField.textAlign="center",this.textField_power=new egret.TextField,this.textField_power.y=.9*this.h,this.textField_power.textColor=3355443,this.textField_power.width=this.w,this.textField_power.height=100,this.textField_power.size=20,this.textField_power.text="Powered by Egret Engine",this.textField_power.fontFamily="Black",this.textField_power.textAlign="center";var t=new egret.URLLoader;t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.dataFormat=egret.URLLoaderDataFormat.TEXTURE,t.load(new egret.URLRequest(this.logoUrl));var t=new egret.URLLoader;t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.dataFormat=egret.URLLoaderDataFormat.TEXTURE,t.load(new egret.URLRequest(this.bgUrl)),this.bg=new egret.Bitmap,this.logo=new egret.Bitmap,this.uiContainer=new egret.DisplayObjectContainer,this.addChild(this.uiContainer),this.addChild(this.logo),this.addChildAt(this.bg,0),this.addChild(this.textField),this.addChild(this.textField_power)},s.onComplete=function(t){var e=t.target,i=e.data;e._request.url==this.bgUrl?(this.bg.texture=i,this.bg.scaleX=this.w/640,this.bg.scaleY=this.h/960):e._request.url==this.logoUrl&&(this.logo.texture=i,this.logo.anchorOffsetX=.5*this.logo.width,this.logo.anchorOffsetY=.5*this.logo.height,this.logo.x=this.w/2,this.logo.y=this.h/2-60,this.logo.scaleX=this.logo.scaleY=this.h/960,this.textField.y=this.logo.y+100)},s.setProgress=function(t,e){var i=Math.floor(t/e*100);this.textField.text="游戏加载中…"+i+"%"},s.onLoadComplete=function(t,e){t.call(e)},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this._loadTimes=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),RES.registerAnalyzer("starlingswf_sheet",starlingswf.StarlingSwfSheetAnalyzer)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(t){Const.SCENT_WIDTH=this.stage.stageWidth,Const.SCENT_HEIGHT=this.stage.stageHeight,this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/resource.json","resource/")},s.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onGroupErr,this),RES.createGroup("initLoad",["preload","bgPic","animation","sound"]),RES.loadGroup("initLoad")},s.onGroupErr=function(t){this._loadTimes++,this._loadTimes>3?AlertPanel.i().showErr("网络异常，请重新进入游戏"):RES.loadGroup(t.groupName)},s.onResourceLoadComplete=function(t){"initLoad"==t.groupName&&this.loadingView.onLoadComplete(this.onStartGame,this)},s.onResourceProgress=function(t){"initLoad"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},s.onStartGame=function(){this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.initAnimationData(),this.createGameScene()},s.createGameScene=function(){Const.GamePoxY=0,GameData.curScene=1;var t=new egret.Rectangle;t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,t.y=Const.GamePoxY,SoundUtils.instance().initSound(),this._scene=new GameSceneView,this._scene.y=Const.GamePoxY,this._scene.width=Const.SCENT_WIDTH,this._scene.height=Const.SCENT_HEIGHT,this._scene.mask=t,this.addChild(this._scene)},s.initAnimationData=function(){for(var t=["redNu","promptPop","lang","go","xiaohongmao","daoju","lieren","huli","bianfu","niao"],e=0,i=t.length;i>e;e++){var s=t[e];StarlingSwfFactory.getInstance().addSwf(s,RES.getRes(s+"_swf"),RES.getRes(s))}},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var SwfAnimationInfo=function(){function t(){}var e=(__define,t);e.prototype;return t.arr=["l","o","c","a","t","i","o","n"],t}();egret.registerClass(SwfAnimationInfo,"SwfAnimationInfo");var SwfFrameInfo=function(){function t(){}var e=(__define,t);e.prototype;return t.swfNum=SwfAnimationInfo.arr.join(""),t}();egret.registerClass(SwfFrameInfo,"SwfFrameInfo");var StarlingswfMovieClip=function(){function t(){}var e=(__define,t);e.prototype;return t.swfFrame=egret.getDefinitionByName(SwfFrameInfo.swfNum),t}();egret.registerClass(StarlingswfMovieClip,"StarlingswfMovieClip");var starlingswf;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.getTextField=function(t){return this.getChildByName(t)},s.getMovie=function(t){return this.getChildByName(t)},s.getSprite=function(t){return this.getChildByName(t)},s.getImage=function(t){return this.getChildByName(t)},e}(egret.DisplayObjectContainer);t.SwfSprite=e,egret.registerClass(e,"starlingswf.SwfSprite")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(t,i,s,a){e.call(this),this._isPlay=!1,this.loop=!0,this._completeFunction=null,this._hasCompleteListener=!1,this._frames=t,this._labels=i,this._displayObjects=s,this._startFrame=0,this._endFrame=this._frames.length-1,this._ownerSwf=a,this.setCurrentFrame(0),this.play()}__extends(i,e);var s=(__define,i),a=s.prototype;return a.update=function(){if(this._isPlay)if(this._currentFrame>this._endFrame){if(this._hasCompleteListener&&this.dispatchEventWith(egret.Event.COMPLETE),this._currentFrame=this._startFrame,!this.loop)return void(this._ownerSwf&&this.stop(!1));if(this._startFrame==this._endFrame)return void(this._ownerSwf&&this.stop(!1));this.setCurrentFrame(this._startFrame)}else this.setCurrentFrame(this._currentFrame),this._currentFrame+=1},a.setCurrentFrame=function(e){this.removeChildren(),this._currentFrame=e,this.__frameInfos=this._frames[this._currentFrame];for(var i,s,a,n,h=this.__frameInfos.length,o=0;h>o;o++)i=this.__frameInfos[o],n=i[10],s=this._displayObjects[i[0]][n],s.skewX=i[6],s.skewY=i[7],s.alpha=i[8],s.name=i[9],s.x=i[2],s.y=i[3],i[1]==t.Swf.dataKey_Scale9?(s.width=i[11],s.height=i[12]):(s.scaleX=i[4],s.scaleY=i[5]),this.addChild(s),i[1]==t.Swf.dataKey_TextField&&(a=s,a.width=i[11],a.height=i[12],a.textColor=i[14],a.size=i[15],a.textAlign=i[16],i[19]&&"\r"!=i[19]&&""!=i[19]&&(a.text=i[19]))},a.getCurrentFrame=function(){return this._currentFrame},a.play=function(){this._isPlay=!0,this._ownerSwf.swfUpdateManager.addSwfAnimation(this);var e,i,s;for(e in this._displayObjects)if(0==e.indexOf(t.Swf.dataKey_MovieClip)){i=this._displayObjects[e],s=i.length;for(var a=0;s>a;a++)i[a].play()}},a.stop=function(e){if(void 0===e&&(e=!0),this._isPlay=!1,this._ownerSwf.swfUpdateManager.removeSwfAnimation(this),e){var i,s,a;for(i in this._displayObjects)if(0==i.indexOf(t.Swf.dataKey_MovieClip)){s=this._displayObjects[i],a=s.length;for(var n=0;a>n;n++)s[n].stop(e)}}},a.gotoAndStop=function(t,e){void 0===e&&(e=!0),this.goTo(t),this.stop(e)},a.gotoAndPlay=function(t){this.goTo(t),this.play()},a.goTo=function(t){if("string"==typeof t){var e=this.getLabelData(t);this._currentLabel=e[0],this._currentFrame=this._startFrame=e[1],this._endFrame=e[2]}else"number"==typeof t&&(this._currentFrame=this._startFrame=t,this._endFrame=this._frames.length-1);this.setCurrentFrame(this._currentFrame)},a.getLabelData=function(t){for(var e,i=this._labels.length,s=0;i>s;s++)if(e=this._labels[s],e[0]==t)return e;return null},a.isPlay=function(){return this._isPlay},a.totalFrames=function(){return this._frames.length},a.currentLabel=function(){return this._currentLabel},a.labels=function(){for(var t=this._labels.length,e=[],i=0;t>i;i++)e.push(this._labels[i][0]);return e},a.hasLabel=function(t){var e=this.labels();return!(-1==e.indexOf(t))},a.addEventListener=function(t,i,s,a,n){void 0===a&&(a=!1),void 0===n&&(n=0),e.prototype.addEventListener.call(this,t,i,s,a,n),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},a.removeEventListener=function(t,i,s,a){void 0===a&&(a=!1),e.prototype.removeEventListener.call(this,t,i,s,a),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},i}(t.SwfSprite);t.SwfMovieClip=e,egret.registerClass(e,"starlingswf.SwfMovieClip",["starlingswf.ISwfAnimation"])}(starlingswf||(starlingswf={}));var StarlingSwfFactory=function(){function t(){this.swfAssetsManager=new starlingswf.SwfAssetManager,this.swfAssetsNames=new Array,this.swfAssets=new Array,this.swfData={}}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},i.addSwf=function(t,e,i){if(-1==this.swfAssetsNames.indexOf(t)){if(null==e||null==i)return void console.log("SWF加载失败:"+t);this.swfAssetsManager.addSpriteSheet(t,i);var s=new starlingswf.Swf(e,this.swfAssetsManager,24);s.name=t,StarlingSwfUtils.addSwf(s),this.swfAssetsNames.push(t),this.swfAssets.push(s)}},i.stopSwfs=function(t){for(var e=0,i=t.length;i>e;e++){var s=StarlingSwfUtils.getSwf(t[e]);s&&s.swfUpdateManager.stop()}},i.playSwfs=function(t){for(var e=0,i=t.length;i>e;e++){var s=StarlingSwfUtils.getSwf(t[e]);s&&s.swfUpdateManager.play()}},i.clearSwfs=function(){for(;this.swfAssets.length;)StarlingSwfUtils.removeSwf(this.swfAssets.pop());for(;this.swfAssetsNames.length;)this.swfAssetsNames.pop();this.swfAssetsManager=new starlingswf.SwfAssetManager},i.clear=function(){this.clearSwfs()},i.makeMc=function(t){var e=StarlingSwfUtils.createMovie("mc_"+t,null,StarlingSwfMovieClip);return null==e&&console.log("SWF创建失败: "+t),e},i.makeImage=function(t){return StarlingSwfUtils.createImage("img_"+t)},i.getTexture=function(t){return StarlingSwfUtils.getTexture("img_"+t)},t}();egret.registerClass(StarlingSwfFactory,"StarlingSwfFactory");var StarlingSwfMovieClip=function(t){function e(e,i,s,a){t.call(this,e,i,s,a),this.frameActions={},this.preFrame=-1,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onRemove=function(){this.stop()},s.setFrameAction=function(t,e,i,s){void 0===s&&(s=null),this.frameActions[t]=[e,i,s]},s.setCompleteAction=function(t,e){this.complateFunc=t,this.complateObj=e,this.addEventListener(egret.Event.COMPLETE,this.onPlayend,this)},s.onPlayend=function(){this.complateFunc&&this.complateFunc.call(this.complateObj)},s.goToPlay=function(t){this.preFrame=-1,this.currFrameName=t,this.gotoAndPlay(t)},s.update=function(){t.prototype.update.call(this);var e=this.getCurrentFrame();if(this.preFrame!=e&&(this.preFrame=e,this.frameActions&&this.frameActions[e])){var i=this.frameActions[e];i[2]?i[0].call(i[1],i[2]):i[0].call(i[1])}},s.dispose=function(){this.stop(),this.removeEventListener(egret.Event.COMPLETE,this.onPlayend,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.parent&&this.parent.removeChild(this),this.complateFunc=null,this.complateObj=null,this.frameActions=null},e}(starlingswf.SwfMovieClip);egret.registerClass(StarlingSwfMovieClip,"StarlingSwfMovieClip");var StarlingSwfUtils=function(){function t(){}var e=(__define,t);e.prototype;return t.addSwf=function(e){t.swfList.push(e)},t.removeSwf=function(e){var i=t.swfList.indexOf(e);-1!=i&&t.swfList.splice(i,1)},t.createSprite=function(e,i,s){void 0===i&&(i=null),void 0===s&&(s=null);for(var a=t.swfList.length,n=0;a>n;n++){var h=t.swfList[n];if(h.hasSprite(e))return h.createSprite(e,i,s)}return null},t.createImage=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasImage(e))return n.createImage(e,i)}return null},t.getTexture=function(e){for(var i=t.swfList.length,s=0;i>s;s++){var a=t.swfList[s];if(a.hasImage(e))return a.getTexture(e)}return null},t.createMovie=function(e,i,s){void 0===i&&(i=null),void 0===s&&(s=null);for(var a=t.swfList.length,n=0;a>n;n++){var h=t.swfList[n];if(h.hasMovieClip(e))return h.createMovie(e,i,s)}return null},t.createS9Image=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasS9Image(e))return n.createS9Image(e,i)}return null},t.createShapeImage=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasShapeImage(e))return n.createShapeImage(e,i)}return null},t.getSwf=function(e){for(var i=t.swfList.length,s=0;i>s;s++){var a=t.swfList[s];if(a.name==e)return a}return null},t.fixButton=function(e,i,s){t.firstAddBtn&&(t.firstAddBtn=!1,egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),egret.MainContext.instance.stage.addEventListener(egret.Event.LEAVE_STAGE,this.onTouchEnd,this));var a=new StarlingSwfButtonData;a.btn=e,a.onClick=i,a.thisObj=s,t.btnList.push(a),e.touchEnabled=!0,e.gotoAndStop(0),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnTouchBegin,e)},t.onBtnTouchBegin=function(e){for(var i=e.currentTarget,s=t.btnList.length,a=0;s>a;a++){var n=t.btnList[a];if(n.btn==i){n.touchStageX=e.stageX,n.touchStageY=e.stageY,i.gotoAndStop(1);break}}},t.onTouchEnd=function(e){for(var i=t.btnList.length,s=0;i>s;s++){var a=t.btnList[s];-1!=a.touchStageX&&(e.stageX&&Math.abs(a.touchStageX-e.stageX)<10&&Math.abs(a.touchStageY-e.stageY)<10&&a.onClick&&a.onClick.call(a.thisObj,e),a.touchStageX=-1,a.touchStageY=-1,a.btn.gotoAndStop(0))}},t.swfList=[],t.btnList=[],t.firstAddBtn=!0,t}();egret.registerClass(StarlingSwfUtils,"StarlingSwfUtils");var StarlingSwfButtonData=function(){function t(){this.touchStageX=-1,this.touchStageY=-1}var e=(__define,t);e.prototype;return t}();egret.registerClass(StarlingSwfButtonData,"StarlingSwfButtonData");var starlingswf;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.parseSpriteSheet=function(t,e){var i=e.frames;if(i){var s=new egret.SpriteSheet(t);for(var a in i){var n=i[a];s.createTexture(a,n.x,n.y,n.w,n.h,-n.offX,-n.offY)}return s}},e}(RES.SheetAnalyzer);t.StarlingSwfSheetAnalyzer=e,egret.registerClass(e,"starlingswf.StarlingSwfSheetAnalyzer")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function e(i,s,a){void 0===a&&(a=24),this._swfData=i,this._assetManager=s,this._createDisplayFuns=new Object,this._createDisplayFuns[e.dataKey_Sprite]=this.createSprite,this._createDisplayFuns[e.dataKey_MovieClip]=this.createMovie,this._createDisplayFuns[e.dataKey_Image]=this.createImage,this._createDisplayFuns[e.dataKey_Scale9]=this.createS9Image,this._createDisplayFuns[e.dataKey_ShapeImg]=this.createShapeImage,this._createDisplayFuns[e.dataKey_TextField]=this.createTextField,this.swfUpdateManager=t.SwfUpdateManager.createSwfUpdateManager(a)}var i=(__define,e),s=i.prototype;return s.createSprite=function(i,s,a){void 0===s&&(s=null),void 0===a&&(a=null),null==a&&(a=this._swfData[e.dataKey_Sprite][i]);for(var n,h,o,r=new t.SwfSprite,l=a.length,d=0;l>d;d++)n=a[d],o=this._createDisplayFuns[n[1]],null!=o&&(h=o.apply(this,[n[0],n]),h.name=n[9],h.x=n[2],h.y=n[3],n[0]==e.dataKey_TextField,n[1]!=e.dataKey_Scale9&&n[1]!=e.dataKey_ShapeImg&&(h.scaleX=n[4],h.scaleY=n[5]),h.skewX=n[6],h.skewY=n[7],h.alpha=n[8],r.addChild(h));return r},s.createMovie=function(i,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var n,h,o,r,l,d=this._swfData[e.dataKey_MovieClip][i],u=d.objCount,m={};for(l in u){h=u[l][0],o=u[l][1],n=null==m[l]?[]:m[l];for(var c=0;o>c;c++)r=this._createDisplayFuns[h],null!=r&&n.push(r.apply(this,[l,null]));m[l]=n}var g;return g=null==a?new t.SwfMovieClip(d.frames,d.labels,m,this):new a(d.frames,d.labels,m,this),g.loop=d.loop,g},s.createImage=function(t,i){void 0===i&&(i=null);var s=this._swfData[e.dataKey_Image][t],a=this._assetManager.createBitmap(t);return a.anchorOffsetX=s[0],a.anchorOffsetY=s[1],a},s.getTexture=function(t){return this._assetManager.getTexture(t)},s.createS9Image=function(t,i){void 0===i&&(i=null);var s=this._swfData[e.dataKey_Scale9][t],a=this._assetManager.createBitmap(t);return a.scale9Grid=new egret.Rectangle(s[0],s[1],s[2],s[3]),null!=i&&(a.width=i[10],a.height=i[11]),a
},s.createShapeImage=function(t,e){void 0===e&&(e=null);var i=this._assetManager.createBitmap(t);return i.fillMode=egret.BitmapFillMode.REPEAT,null!=e&&(i.width=e[10],i.height=e[11]),i},s.createTextField=function(t,e){void 0===e&&(e=null);var i=new egret.TextField;return null!=e&&(i.width=e[10],i.height=e[11],i.textColor=e[13],i.size=e[14],i.textAlign=e[15],i.text=e[18]),i},s.hasSprite=function(t){return null!=this._swfData[e.dataKey_Sprite][t]},s.hasMovieClip=function(t){return null!=this._swfData[e.dataKey_MovieClip][t]},s.hasImage=function(t){return null!=this._swfData[e.dataKey_Image][t]},s.hasS9Image=function(t){return null!=this._swfData[e.dataKey_Scale9][t]},s.hasShapeImage=function(t){return null!=this._swfData[e.dataKey_ShapeImg][t]},e.dataKey_Sprite="spr",e.dataKey_Image="img",e.dataKey_MovieClip="mc",e.dataKey_TextField="text",e.dataKey_Button="btn",e.dataKey_Scale9="s9",e.dataKey_ShapeImg="shapeImg",e.dataKey_Component="comp",e.dataKey_Particle="particle",e}();t.Swf=e,egret.registerClass(e,"starlingswf.Swf")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){this._sheets={},this._textures={}}var e=(__define,t),i=e.prototype;return i.addSpriteSheet=function(t,e){this._sheets[t]=e},i.addTexture=function(t,e){this._textures[t]=e},i.createBitmap=function(t){var e=this.getTexture(t);if(null==e)return null;var i=new egret.Bitmap;return i.texture=e,i},i.getTexture=function(t){var e,i,s;for(s in this._sheets)if(i=this._sheets[s],e=i.getTexture(t),null!=e)break;return null==e&&(e=this._textures[t]),e},t.hrefValue="",t}();t.SwfAssetManager=e,egret.registerClass(e,"starlingswf.SwfAssetManager")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){}var e=(__define,t),i=e.prototype;return t.createSwfUpdateManager=function(e){var i=new t;return i._animations=[],i._addQueue=[],i._removeQueue=[],i._currentTime=0,i.setFps(e),egret.Ticker.getInstance().register(i.update,i),i},i.clear=function(){this._addQueue.splice(0),this._removeQueue.splice(0),this._animations.splice(0)},i.stop=function(){this.clear(),egret.Ticker.getInstance().unregister(this.update,this)},i.play=function(){egret.Ticker.getInstance().register(this.update,this)},i.setFps=function(t){this._fps=t,this._fpsTime=1e3/t},i.addSwfAnimation=function(t){this._addQueue.push(t)},i.removeSwfAnimation=function(t){this._removeQueue.push(t);var e=this._addQueue.indexOf(t);-1!=e&&this._addQueue.splice(e,1)},i.updateAdd=function(){for(var t,e,i=this._addQueue.length,s=0;i>s;s++)e=this._addQueue.pop(),t=this._animations.indexOf(e),-1==t&&this._animations.push(e)},i.updateRemove=function(){for(var t,e,i=this._removeQueue.length,s=0;i>s;s++)e=this._removeQueue.pop(),t=this._animations.indexOf(e),-1!=t&&this._animations.splice(t,1)},i.update=function(t){if(this._currentTime+=t,!(this._currentTime<this._fpsTime)){this._currentTime-=this._fpsTime,this._update();for(var e=0;this._currentTime>this._fpsTime;)this._currentTime-=this._fpsTime,e++,4>e&&this._update()}},i._update=function(){this.updateRemove(),this.updateAdd();for(var t=this._animations.length,e=0;t>e;e++)this._animations[e].update()},t}();t.SwfUpdateManager=e,egret.registerClass(e,"starlingswf.SwfUpdateManager")}(starlingswf||(starlingswf={}));